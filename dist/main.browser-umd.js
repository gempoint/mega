var mega=(()=>{var bf=Object.create;var _i=Object.defineProperty;var Ef=Object.getOwnPropertyDescriptor;var vf=Object.getOwnPropertyNames;var _f=Object.getPrototypeOf,Sf=Object.prototype.hasOwnProperty;var J=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Af=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of vf(e))!Sf.call(t,i)&&i!==r&&_i(t,i,{get:()=>e[i],enumerable:!(n=Ef(e,i))||n.enumerable});return t};var X=(t,e,r)=>(r=t!=null?bf(_f(t)):{},Af(e||!t||!t.__esModule?_i(r,"default",{value:t,enumerable:!0}):r,t));var xi=b(qt=>{"use strict";c();qt.byteLength=Rf;qt.toByteArray=Bf;qt.fromByteArray=Pf;var ae=[],Z=[],xf=typeof Uint8Array<"u"?Uint8Array:Array,Gr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(Te=0,Si=Gr.length;Te<Si;++Te)ae[Te]=Gr[Te],Z[Gr.charCodeAt(Te)]=Te;var Te,Si;Z["-".charCodeAt(0)]=62;Z["_".charCodeAt(0)]=63;function Ai(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function Rf(t){var e=Ai(t),r=e[0],n=e[1];return(r+n)*3/4-n}function If(t,e,r){return(e+r)*3/4-r}function Bf(t){var e,r=Ai(t),n=r[0],i=r[1],o=new xf(If(t,n,i)),a=0,s=i>0?n-4:n,f;for(f=0;f<s;f+=4)e=Z[t.charCodeAt(f)]<<18|Z[t.charCodeAt(f+1)]<<12|Z[t.charCodeAt(f+2)]<<6|Z[t.charCodeAt(f+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=e&255;return i===2&&(e=Z[t.charCodeAt(f)]<<2|Z[t.charCodeAt(f+1)]>>4,o[a++]=e&255),i===1&&(e=Z[t.charCodeAt(f)]<<10|Z[t.charCodeAt(f+1)]<<4|Z[t.charCodeAt(f+2)]>>2,o[a++]=e>>8&255,o[a++]=e&255),o}function Tf(t){return ae[t>>18&63]+ae[t>>12&63]+ae[t>>6&63]+ae[t&63]}function Of(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Tf(n));return i.join("")}function Pf(t){for(var e,r=t.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(Of(t,a,a+o>s?s:a+o));return n===1?(e=t[r-1],i.push(ae[e>>2]+ae[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(ae[e>>10]+ae[e>>4&63]+ae[e<<2&63]+"=")),i.join("")}});var Ri=b(Kr=>{c();Kr.read=function(t,e,r,n,i){var o,a,s=i*8-n-1,f=(1<<s)-1,u=f>>1,l=-7,h=r?i-1:0,m=r?-1:1,g=t[e+h];for(h+=m,o=g&(1<<-l)-1,g>>=-l,l+=s;l>0;o=o*256+t[e+h],h+=m,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=a*256+t[e+h],h+=m,l-=8);if(o===0)o=1-u;else{if(o===f)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-u}return(g?-1:1)*a*Math.pow(2,o-n)};Kr.write=function(t,e,r,n,i,o){var a,s,f,u=o*8-i-1,l=(1<<u)-1,h=l>>1,m=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:o-1,E=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=l):(a=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-a))<1&&(a--,f*=2),a+h>=1?e+=m/f:e+=m*Math.pow(2,1-h),e*f>=2&&(a++,f/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(e*f-1)*Math.pow(2,i),a=a+h):(s=e*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;t[r+g]=s&255,g+=E,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[r+g]=a&255,g+=E,a/=256,u-=8);t[r+g-E]|=v*128}});var Ve=b(ze=>{"use strict";c();var Hr=xi(),Ke=Ri(),Ii=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;ze.Buffer=d;ze.SlowBuffer=Uf;ze.INSPECT_MAX_BYTES=50;var Wt=2147483647;ze.kMaxLength=Wt;d.TYPED_ARRAY_SUPPORT=Cf();!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Cf(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.buffer}});Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(!!d.isBuffer(this))return this.byteOffset}});function he(t){if(t>Wt)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,d.prototype),e}function d(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Jr(t)}return Pi(t,e,r)}d.poolSize=8192;function Pi(t,e,r){if(typeof t=="string")return kf(t,e);if(ArrayBuffer.isView(t))return Lf(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(se(t,ArrayBuffer)||t&&se(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(se(t,SharedArrayBuffer)||t&&se(t.buffer,SharedArrayBuffer)))return Vr(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return d.from(n,e,r);let i=Mf(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return d.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}d.from=function(t,e,r){return Pi(t,e,r)};Object.setPrototypeOf(d.prototype,Uint8Array.prototype);Object.setPrototypeOf(d,Uint8Array);function Ci(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function Ff(t,e,r){return Ci(t),t<=0?he(t):e!==void 0?typeof r=="string"?he(t).fill(e,r):he(t).fill(e):he(t)}d.alloc=function(t,e,r){return Ff(t,e,r)};function Jr(t){return Ci(t),he(t<0?0:Xr(t)|0)}d.allocUnsafe=function(t){return Jr(t)};d.allocUnsafeSlow=function(t){return Jr(t)};function kf(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Fi(t,e)|0,n=he(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function zr(t){let e=t.length<0?0:Xr(t.length)|0,r=he(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Lf(t){if(se(t,Uint8Array)){let e=new Uint8Array(t);return Vr(e.buffer,e.byteOffset,e.byteLength)}return zr(t)}function Vr(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,d.prototype),n}function Mf(t){if(d.isBuffer(t)){let e=Xr(t.length)|0,r=he(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Qr(t.length)?he(0):zr(t);if(t.type==="Buffer"&&Array.isArray(t.data))return zr(t.data)}function Xr(t){if(t>=Wt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wt.toString(16)+" bytes");return t|0}function Uf(t){return+t!=t&&(t=0),d.alloc(+t)}d.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==d.prototype};d.compare=function(e,r){if(se(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),se(r,Uint8Array)&&(r=d.from(r,r.offset,r.byteLength)),!d.isBuffer(e)||!d.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,a=Math.min(n,i);o<a;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return d.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=d.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let a=e[n];if(se(a,Uint8Array))o+a.length>i.length?(d.isBuffer(a)||(a=d.from(a)),a.copy(i,o)):Uint8Array.prototype.set.call(i,a,o);else if(d.isBuffer(a))a.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=a.length}return i};function Fi(t,e){if(d.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||se(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Yr(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Wi(t).length;default:if(i)return n?-1:Yr(t).length;e=(""+e).toLowerCase(),i=!0}}d.byteLength=Fi;function jf(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Vf(this,e,r);case"utf8":case"utf-8":return Li(this,e,r);case"ascii":return Hf(this,e,r);case"latin1":case"binary":return zf(this,e,r);case"base64":return Gf(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Yf(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}d.prototype._isBuffer=!0;function Oe(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}d.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)Oe(this,r,r+1);return this};d.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)Oe(this,r,r+3),Oe(this,r+1,r+2);return this};d.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)Oe(this,r,r+7),Oe(this,r+1,r+6),Oe(this,r+2,r+5),Oe(this,r+3,r+4);return this};d.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Li(this,0,e):jf.apply(this,arguments)};d.prototype.toLocaleString=d.prototype.toString;d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:d.compare(this,e)===0};d.prototype.inspect=function(){let e="",r=ze.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Ii&&(d.prototype[Ii]=d.prototype.inspect);d.prototype.compare=function(e,r,n,i,o){if(se(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let a=o-i,s=n-r,f=Math.min(a,s),u=this.slice(i,o),l=e.slice(r,n);for(let h=0;h<f;++h)if(u[h]!==l[h]){a=u[h],s=l[h];break}return a<s?-1:s<a?1:0};function ki(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Qr(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=d.from(e,n)),d.isBuffer(e))return e.length===0?-1:Bi(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Bi(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Bi(t,e,r,n,i){let o=1,a=t.length,s=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,s/=2,r/=2}function f(l,h){return o===1?l[h]:l.readUInt16BE(h*o)}let u;if(i){let l=-1;for(u=r;u<a;u++)if(f(t,u)===f(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===s)return l*o}else l!==-1&&(u-=u-l),l=-1}else for(r+s>a&&(r=a-s),u=r;u>=0;u--){let l=!0;for(let h=0;h<s;h++)if(f(t,u+h)!==f(e,h)){l=!1;break}if(l)return u}return-1}d.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};d.prototype.indexOf=function(e,r,n){return ki(this,e,r,n,!0)};d.prototype.lastIndexOf=function(e,r,n){return ki(this,e,r,n,!1)};function Nf(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let a;for(a=0;a<n;++a){let s=parseInt(e.substr(a*2,2),16);if(Qr(s))return a;t[r+a]=s}return a}function Df(t,e,r,n){return $t(Yr(e,t.length-r),t,r,n)}function qf(t,e,r,n){return $t(Qf(e),t,r,n)}function Wf(t,e,r,n){return $t(Wi(e),t,r,n)}function $f(t,e,r,n){return $t(eu(e,t.length-r),t,r,n)}d.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let a=!1;for(;;)switch(i){case"hex":return Nf(this,e,r,n);case"utf8":case"utf-8":return Df(this,e,r,n);case"ascii":case"latin1":case"binary":return qf(this,e,r,n);case"base64":return Wf(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $f(this,e,r,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Gf(t,e,r){return e===0&&r===t.length?Hr.fromByteArray(t):Hr.fromByteArray(t.slice(e,r))}function Li(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=r){let f,u,l,h;switch(s){case 1:o<128&&(a=o);break;case 2:f=t[i+1],(f&192)===128&&(h=(o&31)<<6|f&63,h>127&&(a=h));break;case 3:f=t[i+1],u=t[i+2],(f&192)===128&&(u&192)===128&&(h=(o&15)<<12|(f&63)<<6|u&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:f=t[i+1],u=t[i+2],l=t[i+3],(f&192)===128&&(u&192)===128&&(l&192)===128&&(h=(o&15)<<18|(f&63)<<12|(u&63)<<6|l&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Kf(n)}var Ti=4096;function Kf(t){let e=t.length;if(e<=Ti)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=Ti));return r}function Hf(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function zf(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function Vf(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=tu[t[o]];return i}function Yf(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}d.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,d.prototype),i};function L(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||L(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return i};d.prototype.readUintBE=d.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||L(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};d.prototype.readUint8=d.prototype.readUInt8=function(e,r){return e=e>>>0,r||L(e,1,this.length),this[e]};d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||L(e,2,this.length),this[e]|this[e+1]<<8};d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||L(e,2,this.length),this[e]<<8|this[e+1]};d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||L(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};d.prototype.readBigUInt64LE=we(function(e){e=e>>>0,He(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&yt(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});d.prototype.readBigUInt64BE=we(function(e){e=e>>>0,He(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&yt(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});d.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||L(e,r,this.length);let i=this[e],o=1,a=0;for(;++a<r&&(o*=256);)i+=this[e+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};d.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||L(e,r,this.length);let i=r,o=1,a=this[e+--i];for(;i>0&&(o*=256);)a+=this[e+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*r)),a};d.prototype.readInt8=function(e,r){return e=e>>>0,r||L(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};d.prototype.readInt16LE=function(e,r){e=e>>>0,r||L(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};d.prototype.readInt16BE=function(e,r){e=e>>>0,r||L(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};d.prototype.readInt32LE=function(e,r){return e=e>>>0,r||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};d.prototype.readInt32BE=function(e,r){return e=e>>>0,r||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};d.prototype.readBigInt64LE=we(function(e){e=e>>>0,He(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&yt(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});d.prototype.readBigInt64BE=we(function(e){e=e>>>0,He(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&yt(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});d.prototype.readFloatLE=function(e,r){return e=e>>>0,r||L(e,4,this.length),Ke.read(this,e,!0,23,4)};d.prototype.readFloatBE=function(e,r){return e=e>>>0,r||L(e,4,this.length),Ke.read(this,e,!1,23,4)};d.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||L(e,8,this.length),Ke.read(this,e,!0,52,8)};d.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||L(e,8,this.length),Ke.read(this,e,!1,52,8)};function H(t,e,r,n,i,o){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;H(this,e,r,n,s,0)}let o=1,a=0;for(this[r]=e&255;++a<n&&(o*=256);)this[r+a]=e/o&255;return r+n};d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let s=Math.pow(2,8*n)-1;H(this,e,r,n,s,0)}let o=n-1,a=1;for(this[r+o]=e&255;--o>=0&&(a*=256);)this[r+o]=e/a&255;return r+n};d.prototype.writeUint8=d.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,1,255,0),this[r]=e&255,r+1};d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Mi(t,e,r,n,i){qi(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,a=a>>8,t[r++]=a,r}function Ui(t,e,r,n,i){qi(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let a=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=a,a=a>>8,t[r+2]=a,a=a>>8,t[r+1]=a,a=a>>8,t[r]=a,r+8}d.prototype.writeBigUInt64LE=we(function(e,r=0){return Mi(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeBigUInt64BE=we(function(e,r=0){return Ui(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);H(this,e,r,n,f-1,-f)}let o=0,a=1,s=0;for(this[r]=e&255;++o<n&&(a*=256);)e<0&&s===0&&this[r+o-1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};d.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);H(this,e,r,n,f-1,-f)}let o=n-1,a=1,s=0;for(this[r+o]=e&255;--o>=0&&(a*=256);)e<0&&s===0&&this[r+o+1]!==0&&(s=1),this[r+o]=(e/a>>0)-s&255;return r+n};d.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};d.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};d.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};d.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};d.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||H(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};d.prototype.writeBigInt64LE=we(function(e,r=0){return Mi(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});d.prototype.writeBigInt64BE=we(function(e,r=0){return Ui(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ji(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Ni(t,e,r,n,i){return e=+e,r=r>>>0,i||ji(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ke.write(t,e,r,n,23,4),r+4}d.prototype.writeFloatLE=function(e,r,n){return Ni(this,e,r,!0,n)};d.prototype.writeFloatBE=function(e,r,n){return Ni(this,e,r,!1,n)};function Di(t,e,r,n,i){return e=+e,r=r>>>0,i||ji(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ke.write(t,e,r,n,52,8),r+8}d.prototype.writeDoubleLE=function(e,r,n){return Di(this,e,r,!0,n)};d.prototype.writeDoubleBE=function(e,r,n){return Di(this,e,r,!1,n)};d.prototype.copy=function(e,r,n,i){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};d.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let a=e.charCodeAt(0);(i==="utf8"&&a<128||i==="latin1")&&(e=a)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let a=d.isBuffer(e)?e:d.from(e,i),s=a.length;if(s===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=a[o%s]}return this};var Ge={};function Zr(t,e,r){Ge[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Zr("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Zr("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Zr("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Oi(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Oi(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Oi(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Jf(t,e,r){He(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&yt(e,t.length-(r+1))}function qi(t,e,r,n,i,o){if(t>r||t<e){let a=typeof e=="bigint"?"n":"",s;throw o>3?e===0||e===BigInt(0)?s=`>= 0${a} and < 2${a} ** ${(o+1)*8}${a}`:s=`>= -(2${a} ** ${(o+1)*8-1}${a}) and < 2 ** ${(o+1)*8-1}${a}`:s=`>= ${e}${a} and <= ${r}${a}`,new Ge.ERR_OUT_OF_RANGE("value",s,t)}Jf(n,i,o)}function He(t,e){if(typeof t!="number")throw new Ge.ERR_INVALID_ARG_TYPE(e,"number",t)}function yt(t,e,r){throw Math.floor(t)!==t?(He(t,r),new Ge.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var Xf=/[^+/0-9A-Za-z-_]/g;function Zf(t){if(t=t.split("=")[0],t=t.trim().replace(Xf,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Yr(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let a=0;a<n;++a){if(r=t.charCodeAt(a),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function Qf(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function eu(t,e){let r,n,i,o=[];for(let a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Wi(t){return Hr.toByteArray(Zf(t))}function $t(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function se(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Qr(t){return t!==t}var tu=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function we(t){return typeof BigInt>"u"?ru:t}function ru(){throw new Error("BigInt not supported")}});var p,y,w,c=J(()=>{p=X(Ve(),1),y={env:{},nextTick:(t,...e)=>{globalThis.setTimeout(t,0,...e)}},w=globalThis});var Je=b((Dd,en)=>{"use strict";c();var Ye=typeof Reflect=="object"?Reflect:null,$i=Ye&&typeof Ye.apply=="function"?Ye.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Gt;Ye&&typeof Ye.ownKeys=="function"?Gt=Ye.ownKeys:Object.getOwnPropertySymbols?Gt=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Gt=function(e){return Object.getOwnPropertyNames(e)};function nu(t){console&&console.warn&&console.warn(t)}var Ki=Number.isNaN||function(e){return e!==e};function T(){T.init.call(this)}en.exports=T;en.exports.once=su;T.EventEmitter=T;T.prototype._events=void 0;T.prototype._eventsCount=0;T.prototype._maxListeners=void 0;var Gi=10;function Kt(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(T,"defaultMaxListeners",{enumerable:!0,get:function(){return Gi},set:function(t){if(typeof t!="number"||t<0||Ki(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Gi=t}});T.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};T.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ki(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Hi(t){return t._maxListeners===void 0?T.defaultMaxListeners:t._maxListeners}T.prototype.getMaxListeners=function(){return Hi(this)};T.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var a;if(r.length>0&&(a=r[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")$i(f,this,r);else for(var u=f.length,l=Xi(f,u),n=0;n<u;++n)$i(l[n],this,r);return!0};function zi(t,e,r,n){var i,o,a;if(Kt(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),a=o[e]),a===void 0)a=o[e]=r,++t._eventsCount;else if(typeof a=="function"?a=o[e]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),i=Hi(t),i>0&&a.length>i&&!a.warned){a.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=a.length,nu(s)}return t}T.prototype.addListener=function(e,r){return zi(this,e,r,!1)};T.prototype.on=T.prototype.addListener;T.prototype.prependListener=function(e,r){return zi(this,e,r,!0)};function iu(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Vi(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=iu.bind(n);return i.listener=r,n.wrapFn=i,i}T.prototype.once=function(e,r){return Kt(r),this.on(e,Vi(this,e,r)),this};T.prototype.prependOnceListener=function(e,r){return Kt(r),this.prependListener(e,Vi(this,e,r)),this};T.prototype.removeListener=function(e,r){var n,i,o,a,s;if(Kt(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,a=n.length-1;a>=0;a--)if(n[a]===r||n[a].listener===r){s=n[a].listener,o=a;break}if(o<0)return this;o===0?n.shift():ou(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,s||r)}return this};T.prototype.off=T.prototype.removeListener;T.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),a;for(i=0;i<o.length;++i)a=o[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Yi(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?au(i):Xi(i,i.length)}T.prototype.listeners=function(e){return Yi(this,e,!0)};T.prototype.rawListeners=function(e){return Yi(this,e,!1)};T.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Ji.call(t,e)};T.prototype.listenerCount=Ji;function Ji(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}T.prototype.eventNames=function(){return this._eventsCount>0?Gt(this._events):[]};function Xi(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function ou(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function au(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function su(t,e){return new Promise(function(r,n){function i(a){t.removeListener(e,o),n(a)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Zi(t,e,o,{once:!0}),e!=="error"&&fu(t,i,{once:!0})})}function fu(t,e,r){typeof t.on=="function"&&Zi(t,"error",e,r)}function Zi(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var tn=b((qd,Qi)=>{c();Qi.exports=Je().EventEmitter});var rn=b(()=>{c()});var no=b((Gd,ro)=>{"use strict";c();function eo(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eo(Object(r),!0).forEach(function(n){lu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eo(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function to(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function hu(t,e,r){return e&&to(t.prototype,e),r&&to(t,r),t}var du=Ve(),Ht=du.Buffer,pu=rn(),nn=pu.inspect,yu=nn&&nn.custom||"inspect";function gu(t,e,r){Ht.prototype.copy.call(t,e,r)}ro.exports=function(){function t(){cu(this,t),this.head=null,this.tail=null,this.length=0}return hu(t,[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,i=""+n.data;n=n.next;)i+=r+n.data;return i}},{key:"concat",value:function(r){if(this.length===0)return Ht.alloc(0);for(var n=Ht.allocUnsafe(r>>>0),i=this.head,o=0;i;)gu(i.data,n,o),o+=i.data.length,i=i.next;return n}},{key:"consume",value:function(r,n){var i;return r<this.head.data.length?(i=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):r===this.head.data.length?i=this.shift():i=n?this._getString(r):this._getBuffer(r),i}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,i=1,o=n.data;for(r-=o.length;n=n.next;){var a=n.data,s=r>a.length?a.length:r;if(s===a.length?o+=a:o+=a.slice(0,r),r-=s,r===0){s===a.length?(++i,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=a.slice(s));break}++i}return this.length-=i,o}},{key:"_getBuffer",value:function(r){var n=Ht.allocUnsafe(r),i=this.head,o=1;for(i.data.copy(n),r-=i.data.length;i=i.next;){var a=i.data,s=r>a.length?a.length:r;if(a.copy(n,n.length-r,0,s),r-=s,r===0){s===a.length?(++o,i.next?this.head=i.next:this.head=this.tail=null):(this.head=i,i.data=a.slice(s));break}++o}return this.length-=o,n}},{key:yu,value:function(r,n){return nn(this,uu({},n,{depth:0,customInspect:!1}))}}]),t}()});var an=b((Kd,oo)=>{"use strict";c();function mu(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,y.nextTick(on,this,t)):y.nextTick(on,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(o){!e&&o?r._writableState?r._writableState.errorEmitted?y.nextTick(zt,r):(r._writableState.errorEmitted=!0,y.nextTick(io,r,o)):y.nextTick(io,r,o):e?(y.nextTick(zt,r),e(o)):y.nextTick(zt,r)}),this)}function io(t,e){on(t,e),zt(t)}function zt(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function wu(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function on(t,e){t.emit("error",e)}function bu(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}oo.exports={destroy:mu,undestroy:wu,errorOrDestroy:bu}});var Pe=b((Hd,fo)=>{"use strict";c();function Eu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var so={};function Q(t,e,r){r||(r=Error);function n(o,a,s){return typeof e=="string"?e:e(o,a,s)}var i=function(o){Eu(a,o);function a(s,f,u){return o.call(this,n(s,f,u))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=t,so[t]=i}function ao(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function vu(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function _u(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Su(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Q("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Q("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&vu(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(_u(t," argument"))i="The ".concat(t," ").concat(n," ").concat(ao(e,"type"));else{var o=Su(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(o," ").concat(n," ").concat(ao(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Q("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Q("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Q("ERR_STREAM_PREMATURE_CLOSE","Premature close");Q("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Q("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Q("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Q("ERR_STREAM_WRITE_AFTER_END","write after end");Q("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Q("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Q("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");fo.exports.codes=so});var sn=b((zd,uo)=>{"use strict";c();var Au=Pe().codes.ERR_INVALID_OPT_VALUE;function xu(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Ru(t,e,r,n){var i=xu(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var o=n?r:"highWaterMark";throw new Au(o,i)}return Math.floor(i)}return t.objectMode?16:16*1024}uo.exports={getHighWaterMark:Ru}});var de=b((Vd,fn)=>{c();typeof Object.create=="function"?fn.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:fn.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}});var co=b((Yd,lo)=>{c();lo.exports=Iu;function Iu(t,e){if(un("noDeprecation"))return t;var r=!1;function n(){if(!r){if(un("throwDeprecation"))throw new Error(e);un("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function un(t){try{if(!w.localStorage)return!1}catch{return!1}var e=w.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}});var hn=b((Jd,wo)=>{"use strict";c();wo.exports=P;function po(t){var e=this;this.next=null,this.entry=null,this.finish=function(){el(e,t)}}var Xe;P.WritableState=mt;var Bu={deprecate:co()},yo=tn(),Yt=Ve().Buffer,Tu=w.Uint8Array||function(){};function Ou(t){return Yt.from(t)}function Pu(t){return Yt.isBuffer(t)||t instanceof Tu}var cn=an(),Cu=sn(),Fu=Cu.getHighWaterMark,be=Pe().codes,ku=be.ERR_INVALID_ARG_TYPE,Lu=be.ERR_METHOD_NOT_IMPLEMENTED,Mu=be.ERR_MULTIPLE_CALLBACK,Uu=be.ERR_STREAM_CANNOT_PIPE,ju=be.ERR_STREAM_DESTROYED,Nu=be.ERR_STREAM_NULL_VALUES,Du=be.ERR_STREAM_WRITE_AFTER_END,qu=be.ERR_UNKNOWN_ENCODING,Ze=cn.errorOrDestroy;de()(P,yo);function Wu(){}function mt(t,e,r){Xe=Xe||Ce(),t=t||{},typeof r!="boolean"&&(r=e instanceof Xe),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=Fu(this,t,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var n=t.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(i){Yu(e,i)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new po(this)}mt.prototype.getBuffer=function(){for(var e=this.bufferedRequest,r=[];e;)r.push(e),e=e.next;return r};(function(){try{Object.defineProperty(mt.prototype,"buffer",{get:Bu.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Vt;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Vt=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return Vt.call(this,e)?!0:this!==P?!1:e&&e._writableState instanceof mt}})):Vt=function(e){return e instanceof this};function P(t){Xe=Xe||Ce();var e=this instanceof Xe;if(!e&&!Vt.call(P,this))return new P(t);this._writableState=new mt(t,this,e),this.writable=!0,t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final)),yo.call(this)}P.prototype.pipe=function(){Ze(this,new Uu)};function $u(t,e){var r=new Du;Ze(t,r),y.nextTick(e,r)}function Gu(t,e,r,n){var i;return r===null?i=new Nu:typeof r!="string"&&!e.objectMode&&(i=new ku("chunk",["string","Buffer"],r)),i?(Ze(t,i),y.nextTick(n,i),!1):!0}P.prototype.write=function(t,e,r){var n=this._writableState,i=!1,o=!n.objectMode&&Pu(t);return o&&!Yt.isBuffer(t)&&(t=Ou(t)),typeof e=="function"&&(r=e,e=null),o?e="buffer":e||(e=n.defaultEncoding),typeof r!="function"&&(r=Wu),n.ending?$u(this,r):(o||Gu(this,n,t,r))&&(n.pendingcb++,i=Hu(this,n,o,t,e,r)),i};P.prototype.cork=function(){this._writableState.corked++};P.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,!t.writing&&!t.corked&&!t.bufferProcessing&&t.bufferedRequest&&go(this,t))};P.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new qu(e);return this._writableState.defaultEncoding=e,this};Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ku(t,e,r){return!t.objectMode&&t.decodeStrings!==!1&&typeof e=="string"&&(e=Yt.from(e,r)),e}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Hu(t,e,r,n,i,o){if(!r){var a=Ku(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var f=e.length<e.highWaterMark;if(f||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else ln(t,e,!1,s,n,i,o);return f}function ln(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new ju("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function zu(t,e,r,n,i){--e.pendingcb,r?(y.nextTick(i,n),y.nextTick(gt,t,e),t._writableState.errorEmitted=!0,Ze(t,n)):(i(n),t._writableState.errorEmitted=!0,Ze(t,n),gt(t,e))}function Vu(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function Yu(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function")throw new Mu;if(Vu(r),e)zu(t,r,n,e,i);else{var o=mo(r)||t.destroyed;!o&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest&&go(t,r),n?y.nextTick(ho,t,r,o,i):ho(t,r,o,i)}}function ho(t,e,r,n){r||Ju(t,e),e.pendingcb--,n(),gt(t,e)}function Ju(t,e){e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function go(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=new Array(n),o=e.corkedRequestsFree;o.entry=r;for(var a=0,s=!0;r;)i[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;i.allBuffers=s,ln(t,e,!0,e.length,i,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new po(e),e.bufferedRequestCount=0}else{for(;r;){var f=r.chunk,u=r.encoding,l=r.callback,h=e.objectMode?1:f.length;if(ln(t,e,!1,h,f,u,l),r=r.next,e.bufferedRequestCount--,e.writing)break}r===null&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}P.prototype._write=function(t,e,r){r(new Lu("_write()"))};P.prototype._writev=null;P.prototype.end=function(t,e,r){var n=this._writableState;return typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null),t!=null&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||Qu(this,n,r),this};Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function mo(t){return t.ending&&t.length===0&&t.bufferedRequest===null&&!t.finished&&!t.writing}function Xu(t,e){t._final(function(r){e.pendingcb--,r&&Ze(t,r),e.prefinished=!0,t.emit("prefinish"),gt(t,e)})}function Zu(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.pendingcb++,e.finalCalled=!0,y.nextTick(Xu,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function gt(t,e){var r=mo(e);if(r&&(Zu(t,e),e.pendingcb===0&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var n=t._readableState;(!n||n.autoDestroy&&n.endEmitted)&&t.destroy()}return r}function Qu(t,e,r){e.ending=!0,gt(t,e),r&&(e.finished?y.nextTick(r):t.once("finish",r)),e.ended=!0,t.writable=!1}function el(t,e,r){var n=t.entry;for(t.entry=null;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree.next=t}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(e){!this._writableState||(this._writableState.destroyed=e)}});P.prototype.destroy=cn.destroy;P.prototype._undestroy=cn.undestroy;P.prototype._destroy=function(t,e){e(t)}});var Ce=b((Xd,Eo)=>{"use strict";c();var tl=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};Eo.exports=fe;var bo=yn(),pn=hn();de()(fe,bo);for(dn=tl(pn.prototype),Jt=0;Jt<dn.length;Jt++)Xt=dn[Jt],fe.prototype[Xt]||(fe.prototype[Xt]=pn.prototype[Xt]);var dn,Xt,Jt;function fe(t){if(!(this instanceof fe))return new fe(t);bo.call(this,t),pn.call(this,t),this.allowHalfOpen=!0,t&&(t.readable===!1&&(this.readable=!1),t.writable===!1&&(this.writable=!1),t.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",rl)))}Object.defineProperty(fe.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});Object.defineProperty(fe.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(fe.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function rl(){this._writableState.ended||y.nextTick(nl,this)}function nl(t){t.end()}Object.defineProperty(fe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(e){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=e,this._writableState.destroyed=e)}})});var So=b((gn,_o)=>{c();var Zt=Ve(),ue=Zt.Buffer;function vo(t,e){for(var r in t)e[r]=t[r]}ue.from&&ue.alloc&&ue.allocUnsafe&&ue.allocUnsafeSlow?_o.exports=Zt:(vo(Zt,gn),gn.Buffer=Fe);function Fe(t,e,r){return ue(t,e,r)}Fe.prototype=Object.create(ue.prototype);vo(ue,Fe);Fe.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return ue(t,e,r)};Fe.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=ue(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Fe.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ue(t)};Fe.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Zt.SlowBuffer(t)}});var bn=b(xo=>{"use strict";c();var wn=So().Buffer,Ao=wn.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function il(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function ol(t){var e=il(t);if(typeof e!="string"&&(wn.isEncoding===Ao||!Ao(t)))throw new Error("Unknown encoding: "+t);return e||t}xo.StringDecoder=wt;function wt(t){this.encoding=ol(t);var e;switch(this.encoding){case"utf16le":this.text=cl,this.end=hl,e=4;break;case"utf8":this.fillLast=fl,e=4;break;case"base64":this.text=dl,this.end=pl,e=3;break;default:this.write=yl,this.end=gl;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=wn.allocUnsafe(e)}wt.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};wt.prototype.end=ll;wt.prototype.text=ul;wt.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function mn(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function al(t,e,r){var n=e.length-1;if(n<r)return 0;var i=mn(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=mn(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=mn(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function sl(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function fl(t){var e=this.lastTotal-this.lastNeed,r=sl(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function ul(t,e){var r=al(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function ll(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function cl(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function hl(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function dl(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function pl(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function yl(t){return t.toString(this.encoding)}function gl(t){return t&&t.length?this.write(t):""}});var Qt=b((Qd,Bo)=>{"use strict";c();var Ro=Pe().codes.ERR_STREAM_PREMATURE_CLOSE;function ml(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function wl(){}function bl(t){return t.setHeader&&typeof t.abort=="function"}function Io(t,e,r){if(typeof e=="function")return Io(t,null,e);e||(e={}),r=ml(r||wl);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,o=function(){t.writable||s()},a=t._writableState&&t._writableState.finished,s=function(){i=!1,a=!0,n||r.call(t)},f=t._readableState&&t._readableState.endEmitted,u=function(){n=!1,f=!0,i||r.call(t)},l=function(E){r.call(t,E)},h=function(){var E;if(n&&!f)return(!t._readableState||!t._readableState.ended)&&(E=new Ro),r.call(t,E);if(i&&!a)return(!t._writableState||!t._writableState.ended)&&(E=new Ro),r.call(t,E)},m=function(){t.req.on("finish",s)};return bl(t)?(t.on("complete",s),t.on("abort",h),t.req?m():t.on("request",m)):i&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",u),t.on("finish",s),e.error!==!1&&t.on("error",l),t.on("close",h),function(){t.removeListener("complete",s),t.removeListener("abort",h),t.removeListener("request",m),t.req&&t.req.removeListener("finish",s),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",s),t.removeListener("end",u),t.removeListener("error",l),t.removeListener("close",h)}}Bo.exports=Io});var Oo=b((ep,To)=>{"use strict";c();var er;function Ee(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var El=Qt(),ve=Symbol("lastResolve"),ke=Symbol("lastReject"),bt=Symbol("error"),tr=Symbol("ended"),Le=Symbol("lastPromise"),En=Symbol("handlePromise"),Me=Symbol("stream");function _e(t,e){return{value:t,done:e}}function vl(t){var e=t[ve];if(e!==null){var r=t[Me].read();r!==null&&(t[Le]=null,t[ve]=null,t[ke]=null,e(_e(r,!1)))}}function _l(t){y.nextTick(vl,t)}function Sl(t,e){return function(r,n){t.then(function(){if(e[tr]){r(_e(void 0,!0));return}e[En](r,n)},n)}}var Al=Object.getPrototypeOf(function(){}),xl=Object.setPrototypeOf((er={get stream(){return this[Me]},next:function(){var e=this,r=this[bt];if(r!==null)return Promise.reject(r);if(this[tr])return Promise.resolve(_e(void 0,!0));if(this[Me].destroyed)return new Promise(function(a,s){y.nextTick(function(){e[bt]?s(e[bt]):a(_e(void 0,!0))})});var n=this[Le],i;if(n)i=new Promise(Sl(n,this));else{var o=this[Me].read();if(o!==null)return Promise.resolve(_e(o,!1));i=new Promise(this[En])}return this[Le]=i,i}},Ee(er,Symbol.asyncIterator,function(){return this}),Ee(er,"return",function(){var e=this;return new Promise(function(r,n){e[Me].destroy(null,function(i){if(i){n(i);return}r(_e(void 0,!0))})})}),er),Al),Rl=function(e){var r,n=Object.create(xl,(r={},Ee(r,Me,{value:e,writable:!0}),Ee(r,ve,{value:null,writable:!0}),Ee(r,ke,{value:null,writable:!0}),Ee(r,bt,{value:null,writable:!0}),Ee(r,tr,{value:e._readableState.endEmitted,writable:!0}),Ee(r,En,{value:function(o,a){var s=n[Me].read();s?(n[Le]=null,n[ve]=null,n[ke]=null,o(_e(s,!1))):(n[ve]=o,n[ke]=a)},writable:!0}),r));return n[Le]=null,El(e,function(i){if(i&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"){var o=n[ke];o!==null&&(n[Le]=null,n[ve]=null,n[ke]=null,o(i)),n[bt]=i;return}var a=n[ve];a!==null&&(n[Le]=null,n[ve]=null,n[ke]=null,a(_e(void 0,!0))),n[tr]=!0}),e.on("readable",_l.bind(null,n)),n};To.exports=Rl});var Co=b((tp,Po)=>{c();Po.exports=function(){throw new Error("Readable.from is not available in the browser")}});var yn=b((np,Wo)=>{"use strict";c();Wo.exports=B;var Qe;B.ReadableState=Mo;var rp=Je().EventEmitter,Lo=function(e,r){return e.listeners(r).length},vt=tn(),rr=Ve().Buffer,Il=w.Uint8Array||function(){};function Bl(t){return rr.from(t)}function Tl(t){return rr.isBuffer(t)||t instanceof Il}var vn=rn(),_;vn&&vn.debuglog?_=vn.debuglog("stream"):_=function(){};var Ol=no(),Bn=an(),Pl=sn(),Cl=Pl.getHighWaterMark,nr=Pe().codes,Fl=nr.ERR_INVALID_ARG_TYPE,kl=nr.ERR_STREAM_PUSH_AFTER_EOF,Ll=nr.ERR_METHOD_NOT_IMPLEMENTED,Ml=nr.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,et,_n,Sn;de()(B,vt);var Et=Bn.errorOrDestroy,An=["error","close","destroy","pause","resume"];function Ul(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Array.isArray(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}function Mo(t,e,r){Qe=Qe||Ce(),t=t||{},typeof r!="boolean"&&(r=e instanceof Qe),this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=Cl(this,t,"readableHighWaterMark",r),this.buffer=new Ol,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=t.emitClose!==!1,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(et||(et=bn().StringDecoder),this.decoder=new et(t.encoding),this.encoding=t.encoding)}function B(t){if(Qe=Qe||Ce(),!(this instanceof B))return new B(t);var e=this instanceof Qe;this._readableState=new Mo(t,this,e),this.readable=!0,t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy)),vt.call(this)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(e){!this._readableState||(this._readableState.destroyed=e)}});B.prototype.destroy=Bn.destroy;B.prototype._undestroy=Bn.undestroy;B.prototype._destroy=function(t,e){e(t)};B.prototype.push=function(t,e){var r=this._readableState,n;return r.objectMode?n=!0:typeof t=="string"&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=rr.from(t,e),e=""),n=!0),Uo(this,t,e,!1,n)};B.prototype.unshift=function(t){return Uo(this,t,null,!0,!1)};function Uo(t,e,r,n,i){_("readableAddChunk",e);var o=t._readableState;if(e===null)o.reading=!1,Dl(t,o);else{var a;if(i||(a=jl(o,e)),a)Et(t,a);else if(o.objectMode||e&&e.length>0)if(typeof e!="string"&&!o.objectMode&&Object.getPrototypeOf(e)!==rr.prototype&&(e=Bl(e)),n)o.endEmitted?Et(t,new Ml):xn(t,o,e,!0);else if(o.ended)Et(t,new kl);else{if(o.destroyed)return!1;o.reading=!1,o.decoder&&!r?(e=o.decoder.write(e),o.objectMode||e.length!==0?xn(t,o,e,!1):In(t,o)):xn(t,o,e,!1)}else n||(o.reading=!1,In(t,o))}return!o.ended&&(o.length<o.highWaterMark||o.length===0)}function xn(t,e,r,n){e.flowing&&e.length===0&&!e.sync?(e.awaitDrain=0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&ir(t)),In(t,e)}function jl(t,e){var r;return!Tl(e)&&typeof e!="string"&&e!==void 0&&!t.objectMode&&(r=new Fl("chunk",["string","Buffer","Uint8Array"],e)),r}B.prototype.isPaused=function(){return this._readableState.flowing===!1};B.prototype.setEncoding=function(t){et||(et=bn().StringDecoder);var e=new et(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";r!==null;)n+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),n!==""&&this._readableState.buffer.push(n),this._readableState.length=n.length,this};var Fo=1073741824;function Nl(t){return t>=Fo?t=Fo:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function ko(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=Nl(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}B.prototype.read=function(t){_("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return _("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?Rn(this):ir(this),null;if(t=ko(t,e),t===0&&e.ended)return e.length===0&&Rn(this),null;var n=e.needReadable;_("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,_("length less than watermark",n)),e.ended||e.reading?(n=!1,_("reading or ended",n)):n&&(_("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=ko(r,e)));var i;return t>0?i=Do(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&Rn(this)),i!==null&&this.emit("data",i),i};function Dl(t,e){if(_("onEofChunk"),!e.ended){if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?ir(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,jo(t)))}}function ir(t){var e=t._readableState;_("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(_("emitReadable",e.flowing),e.emittedReadable=!0,y.nextTick(jo,t))}function jo(t){var e=t._readableState;_("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Tn(t)}function In(t,e){e.readingMore||(e.readingMore=!0,y.nextTick(ql,t,e))}function ql(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){var r=e.length;if(_("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}B.prototype._read=function(t){Et(this,new Ll("_read()"))};B.prototype.pipe=function(t,e){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=t;break;case 1:n.pipes=[n.pipes,t];break;default:n.pipes.push(t);break}n.pipesCount+=1,_("pipe count=%d opts=%j",n.pipesCount,e);var i=(!e||e.end!==!1)&&t!==y.stdout&&t!==y.stderr,o=i?s:v;n.endEmitted?y.nextTick(o):r.once("end",o),t.on("unpipe",a);function a(S,R){_("onunpipe"),S===r&&R&&R.hasUnpiped===!1&&(R.hasUnpiped=!0,l())}function s(){_("onend"),t.end()}var f=Wl(r);t.on("drain",f);var u=!1;function l(){_("cleanup"),t.removeListener("close",g),t.removeListener("finish",E),t.removeListener("drain",f),t.removeListener("error",m),t.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",v),r.removeListener("data",h),u=!0,n.awaitDrain&&(!t._writableState||t._writableState.needDrain)&&f()}r.on("data",h);function h(S){_("ondata");var R=t.write(S);_("dest.write",R),R===!1&&((n.pipesCount===1&&n.pipes===t||n.pipesCount>1&&qo(n.pipes,t)!==-1)&&!u&&(_("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function m(S){_("onerror",S),v(),t.removeListener("error",m),Lo(t,"error")===0&&Et(t,S)}Ul(t,"error",m);function g(){t.removeListener("finish",E),v()}t.once("close",g);function E(){_("onfinish"),t.removeListener("close",g),v()}t.once("finish",E);function v(){_("unpipe"),r.unpipe(t)}return t.emit("pipe",r),n.flowing||(_("pipe resume"),r.resume()),t};function Wl(t){return function(){var r=t._readableState;_("pipeOnDrain",r.awaitDrain),r.awaitDrain&&r.awaitDrain--,r.awaitDrain===0&&Lo(t,"data")&&(r.flowing=!0,Tn(t))}}B.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(e.pipesCount===0)return this;if(e.pipesCount===1)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=qo(e.pipes,t);return a===-1?this:(e.pipes.splice(a,1),e.pipesCount-=1,e.pipesCount===1&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)};B.prototype.on=function(t,e){var r=vt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,_("on readable",n.length,n.reading),n.length?ir(this):n.reading||y.nextTick($l,this)),r};B.prototype.addListener=B.prototype.on;B.prototype.removeListener=function(t,e){var r=vt.prototype.removeListener.call(this,t,e);return t==="readable"&&y.nextTick(No,this),r};B.prototype.removeAllListeners=function(t){var e=vt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&y.nextTick(No,this),e};function No(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function $l(t){_("readable nexttick read 0"),t.read(0)}B.prototype.resume=function(){var t=this._readableState;return t.flowing||(_("resume"),t.flowing=!t.readableListening,Gl(this,t)),t.paused=!1,this};function Gl(t,e){e.resumeScheduled||(e.resumeScheduled=!0,y.nextTick(Kl,t,e))}function Kl(t,e){_("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Tn(t),e.flowing&&!e.reading&&t.read(0)}B.prototype.pause=function(){return _("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(_("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Tn(t){var e=t._readableState;for(_("flow",e.flowing);e.flowing&&t.read()!==null;);}B.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;t.on("end",function(){if(_("wrapped end"),r.decoder&&!r.ended){var a=r.decoder.end();a&&a.length&&e.push(a)}e.push(null)}),t.on("data",function(a){if(_("wrapped data"),r.decoder&&(a=r.decoder.write(a)),!(r.objectMode&&a==null)&&!(!r.objectMode&&(!a||!a.length))){var s=e.push(a);s||(n=!0,t.pause())}});for(var i in t)this[i]===void 0&&typeof t[i]=="function"&&(this[i]=function(s){return function(){return t[s].apply(t,arguments)}}(i));for(var o=0;o<An.length;o++)t.on(An[o],this.emit.bind(this,An[o]));return this._read=function(a){_("wrapped _read",a),n&&(n=!1,t.resume())},this};typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return _n===void 0&&(_n=Oo()),_n(this)});Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}});Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}});B._fromList=Do;Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Do(t,e){if(e.length===0)return null;var r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function Rn(t){var e=t._readableState;_("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,y.nextTick(Hl,e,t))}function Hl(t,e){if(_("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&t.length===0&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var r=e._writableState;(!r||r.autoDestroy&&r.finished)&&e.destroy()}}typeof Symbol=="function"&&(B.from=function(t,e){return Sn===void 0&&(Sn=Co()),Sn(B,t,e)});function qo(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}});var On=b((ip,Go)=>{"use strict";c();Go.exports=pe;var or=Pe().codes,zl=or.ERR_METHOD_NOT_IMPLEMENTED,Vl=or.ERR_MULTIPLE_CALLBACK,Yl=or.ERR_TRANSFORM_ALREADY_TRANSFORMING,Jl=or.ERR_TRANSFORM_WITH_LENGTH_0,ar=Ce();de()(pe,ar);function Xl(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Vl);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function pe(t){if(!(this instanceof pe))return new pe(t);ar.call(this,t),this._transformState={afterTransform:Xl.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Zl)}function Zl(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){$o(t,e,r)}):$o(this,null,null)}pe.prototype.push=function(t,e){return this._transformState.needTransform=!1,ar.prototype.push.call(this,t,e)};pe.prototype._transform=function(t,e,r){r(new zl("_transform()"))};pe.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};pe.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};pe.prototype._destroy=function(t,e){ar.prototype._destroy.call(this,t,function(r){e(r)})};function $o(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Jl;if(t._transformState.transforming)throw new Yl;return t.push(null)}});var zo=b((op,Ho)=>{"use strict";c();Ho.exports=_t;var Ko=On();de()(_t,Ko);function _t(t){if(!(this instanceof _t))return new _t(t);Ko.call(this,t)}_t.prototype._transform=function(t,e,r){r(null,t)}});var Zo=b((ap,Xo)=>{"use strict";c();var Pn;function Ql(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Jo=Pe().codes,ec=Jo.ERR_MISSING_ARGS,tc=Jo.ERR_STREAM_DESTROYED;function Vo(t){if(t)throw t}function rc(t){return t.setHeader&&typeof t.abort=="function"}function nc(t,e,r,n){n=Ql(n);var i=!1;t.on("close",function(){i=!0}),Pn===void 0&&(Pn=Qt()),Pn(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,rc(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(a||new tc("pipe"))}}}function Yo(t){t()}function ic(t,e){return t.pipe(e)}function oc(t){return!t.length||typeof t[t.length-1]!="function"?Vo:t.pop()}function ac(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=oc(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ec("streams");var i,o=e.map(function(a,s){var f=s<e.length-1,u=s>0;return nc(a,f,u,function(l){i||(i=l),l&&o.forEach(Yo),!f&&(o.forEach(Yo),n(i))})});return e.reduce(ic)}Xo.exports=ac});var Ue=b((ee,Qo)=>{c();ee=Qo.exports=yn();ee.Stream=ee;ee.Readable=ee;ee.Writable=hn();ee.Duplex=Ce();ee.Transform=On();ee.PassThrough=zo();ee.finished=Qt();ee.pipeline=Zo()});var ra=b((sp,ta)=>{c();ta.exports=ea;function ea(t,e){if(t&&e)return ea(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=t.apply(this,n),a=n[n.length-1];return typeof o=="function"&&o!==a&&Object.keys(a).forEach(function(s){o[s]=a[s]}),o}}});var Fn=b((fp,Cn)=>{c();var na=ra();Cn.exports=na(sr);Cn.exports.strict=na(ia);sr.proto=sr(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return sr(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return ia(this)},configurable:!0})});function sr(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function ia(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}});var kn=b((up,aa)=>{c();var sc=Fn(),fc=function(){},uc=function(t){return t.setHeader&&typeof t.abort=="function"},lc=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},oa=function(t,e,r){if(typeof e=="function")return oa(t,null,e);e||(e={}),r=sc(r||fc);var n=t._writableState,i=t._readableState,o=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,s=!1,f=function(){t.writable||u()},u=function(){a=!1,o||r.call(t)},l=function(){o=!1,a||r.call(t)},h=function(S){r.call(t,S?new Error("exited with error code: "+S):null)},m=function(S){r.call(t,S)},g=function(){y.nextTick(E)},E=function(){if(!s){if(o&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},v=function(){t.req.on("finish",u)};return uc(t)?(t.on("complete",u),t.on("abort",g),t.req?v():t.on("request",v)):a&&!n&&(t.on("end",f),t.on("close",f)),lc(t)&&t.on("exit",h),t.on("end",l),t.on("finish",u),e.error!==!1&&t.on("error",m),t.on("close",g),function(){s=!0,t.removeListener("complete",u),t.removeListener("abort",g),t.removeListener("request",v),t.req&&t.req.removeListener("finish",u),t.removeListener("end",f),t.removeListener("close",f),t.removeListener("finish",u),t.removeListener("exit",h),t.removeListener("end",l),t.removeListener("error",m),t.removeListener("close",g)}};aa.exports=oa});var sa=b(()=>{c()});var la=b((hp,ua)=>{c();var cc=Fn(),hc=kn(),Ln=sa(),St=function(){},dc=/^v?\.0/.test(y.version),fr=function(t){return typeof t=="function"},pc=function(t){return!dc||!Ln?!1:(t instanceof(Ln.ReadStream||St)||t instanceof(Ln.WriteStream||St))&&fr(t.close)},yc=function(t){return t.setHeader&&fr(t.abort)},gc=function(t,e,r,n){n=cc(n);var i=!1;t.on("close",function(){i=!0}),hc(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var o=!1;return function(a){if(!i&&!o){if(o=!0,pc(t))return t.close(St);if(yc(t))return t.abort();if(fr(t.destroy))return t.destroy();n(a||new Error("stream was destroyed"))}}},fa=function(t){t()},mc=function(t,e){return t.pipe(e)},wc=function(){var t=Array.prototype.slice.call(arguments),e=fr(t[t.length-1]||St)&&t.pop()||St;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,o){var a=o<t.length-1,s=o>0;return gc(i,a,s,function(f){r||(r=f),f&&n.forEach(fa),!a&&(n.forEach(fa),e(r))})});return t.reduce(mc)};ua.exports=wc});var ha=b((dp,ca)=>{c();ca.exports=bc;function bc(t){var e=t._readableState;return e?e.objectMode||typeof t._duplexState=="number"?t.read():t.read(Ec(e)):null}function Ec(t){return t.buffer.length?t.buffer.head?t.buffer.head.data.length:t.buffer[0].length:t.length}});var ma=b((pp,ga)=>{c();var ur=Ue(),da=kn(),vc=de(),_c=ha(),pa=p.Buffer.from&&p.Buffer.from!==Uint8Array.from?p.Buffer.from([0]):new p.Buffer([0]),Mn=function(t,e){t._corked?t.once("uncork",e):e()},Sc=function(t,e){t._autoDestroy&&t.destroy(e)},ya=function(t,e){return function(r){r?Sc(t,r.message==="premature close"?null:r):e&&!t._ended&&t.end()}},Ac=function(t,e){if(!t||t._writableState&&t._writableState.finished)return e();if(t._writableState)return t.end(e);t.end(),e()},xc=function(){},Rc=function(t){return new ur.Readable({objectMode:!0,highWaterMark:16}).wrap(t)},U=function(t,e,r){if(!(this instanceof U))return new U(t,e,r);ur.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||r.autoDestroy!==!1,this._forwardDestroy=!r||r.destroy!==!1,this._forwardEnd=!r||r.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,t&&this.setWritable(t),e&&this.setReadable(e)};vc(U,ur.Duplex);U.obj=function(t,e,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new U(t,e,r)};U.prototype.cork=function(){++this._corked===1&&this.emit("cork")};U.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")};U.prototype.setWritable=function(t){if(this._unwrite&&this._unwrite(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.end();return}var e=this,r=da(t,{writable:!0,readable:!1},ya(this,this._forwardEnd)),n=function(){var o=e._ondrain;e._ondrain=null,o&&o()},i=function(){e._writable.removeListener("drain",n),r()};this._unwrite&&y.nextTick(n),this._writable=t,this._writable.on("drain",n),this._unwrite=i,this.uncork()};U.prototype.setReadable=function(t){if(this._unread&&this._unread(),this.destroyed){t&&t.destroy&&t.destroy();return}if(t===null||t===!1){this.push(null),this.resume();return}var e=this,r=da(t,{writable:!1,readable:!0},ya(this)),n=function(){e._forward()},i=function(){e.push(null)},o=function(){e._readable2.removeListener("readable",n),e._readable2.removeListener("end",i),r()};this._drained=!0,this._readable=t,this._readable2=t._readableState?t:Rc(t),this._readable2.on("readable",n),this._readable2.on("end",i),this._unread=o,this._forward()};U.prototype._read=function(){this._drained=!0,this._forward()};U.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var t;this._drained&&(t=_c(this._readable2))!==null;)this.destroyed||(this._drained=this.push(t));this._forwarding=!1}};U.prototype.destroy=function(t,e){if(e||(e=xc),this.destroyed)return e(null);this.destroyed=!0;var r=this;y.nextTick(function(){r._destroy(t),e(null)})};U.prototype._destroy=function(t){if(t){var e=this._ondrain;this._ondrain=null,e?e(t):this.emit("error",t)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")};U.prototype._write=function(t,e,r){if(!this.destroyed){if(this._corked)return Mn(this,this._write.bind(this,t,e,r));if(t===pa)return this._finish(r);if(!this._writable)return r();this._writable.write(t)===!1?this._ondrain=r:this.destroyed||r()}};U.prototype._finish=function(t){var e=this;this.emit("preend"),Mn(this,function(){Ac(e._forwardEnd&&e._writable,function(){e._writableState.prefinished===!1&&(e._writableState.prefinished=!0),e.emit("prefinish"),Mn(e,t)})})};U.prototype.end=function(t,e,r){return typeof t=="function"?this.end(null,null,t):typeof e=="function"?this.end(t,null,e):(this._ended=!0,t&&this.write(t),!this._writableState.ending&&!this._writableState.destroyed&&this.write(pa),ur.Writable.prototype.end.call(this,r))};ga.exports=U});var Ea=b((yp,lr)=>{c();var Ic=la(),Bc=de(),wa=ma(),ba=function(t){return t.length?Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t):[]},Un=function(t){var e=function(){var r=ba(arguments);if(!(this instanceof e))return new e(r);wa.call(this,null,null,t),r.length&&this.setPipeline(r)};return Bc(e,wa),e.prototype.setPipeline=function(){var r=ba(arguments),n=this,i=!1,o=r[0],a=r[r.length-1];a=a.readable?a:null,o=o.writable?o:null;var s=function(){r[0].emit("error",new Error("stream was destroyed"))};if(this.on("close",s),this.on("prefinish",function(){i||n.cork()}),Ic(r,function(f){if(n.removeListener("close",s),f)return n.destroy(f.message==="premature close"?null:f);i=!0,n._autoDestroy===!1&&(n._autoDestroy=!0),n.uncork()}),this.destroyed)return s();this.setWritable(o),this.setReadable(a)},e};lr.exports=Un({autoDestroy:!1,destroy:!1});lr.exports.obj=Un({autoDestroy:!1,destroy:!1,objectMode:!0,highWaterMark:16});lr.exports.ctor=Un});function cr(t,e){let r=[],n;t.on("data",i=>r.push(i)),t.on("end",()=>{n||(n=!0,e(null,p.Buffer.concat(r)))}),t.on("error",i=>{n||(n=!0,e(i))})}function hr(t){let e;return new jn.Transform({transform(r,n,i){e&&(r=p.Buffer.concat([e,r]));let o=Math.floor(r.length/t)*t;o?r.length>o?(e=r.slice(o),this.push(r.slice(0,o))):(e=void 0,this.push(r)):e=e?p.Buffer.concat([e,r]):r,i()},flush(r){e&&this.push(e),r()}})}function va(t,e){let r=[],n=0;return new jn.Transform({transform(i,o,a){r.push(i),n+=i.length,a()},flush(i){e(n);function o(){for(;r.length;)if(!t.write(r.shift()))return t.once("drain",o);t.end(),i()}o()}})}function k(t){let e,r=new Promise((n,i)=>{e=(o,a)=>{if(o)return i(o);n(a)}});return t&&r.then(n=>t(null,n),t),[e,r]}var jn,tt=J(()=>{c();jn=X(Ue(),1)});var _a=b(()=>{c()});var Nn=b((Sa,dr)=>{c();(function(t){"use strict";typeof define<"u"&&define.amd?define([],function(){return e}):typeof dr<"u"&&dr.exports?dr.exports=e:t.secureRandom=e;function e(i,o){if(o=o||{type:"Array"},typeof y<"u"&&typeof y.pid=="number"&&y.versions&&y.versions.node)return r(i,o);var a=window.crypto||window.msCrypto;if(!a)throw new Error("Your browser does not support window.crypto.");return n(i,o)}function r(i,o){var a=_a(),s=a.randomBytes(i);switch(o.type){case"Array":return[].slice.call(s);case"Buffer":return s;case"Uint8Array":for(var f=new Uint8Array(i),u=0;u<i;++u)f[u]=s.readUInt8(u);return f;default:throw new Error(o.type+" is unsupported.")}}function n(i,o){var a=new Uint8Array(i),s=window.crypto||window.msCrypto;switch(s.getRandomValues(a),o.type){case"Array":return[].slice.call(a);case"Buffer":try{var f=new p.Buffer(1)}catch{throw new Error("Buffer not supported in this environment. Use Node.js or Browserify for browser support.")}return new p.Buffer(a);case"Uint8Array":return a;default:throw new Error(o.type+" is unsupported.")}}e.randomArray=function(i){return e(i,{type:"Array"})},e.randomUint8Array=function(i){return e(i,{type:"Uint8Array"})},e.randomBuffer=function(i){return e(i,{type:"Buffer"})}})(Sa)});var rt,Aa=J(()=>{c();rt=class{constructor(e){this._tables[0][0][0]||this._precompute();let r,n,i,o,a,s=this._tables[0][4],f=this._tables[1],u=e.length,l=1;if(u!==4&&u!==6&&u!==8)throw new Error("invalid aes key size");for(this._key=[o=e.slice(0),a=[]],r=u;r<4*u+28;r++)i=o[r-1],(r%u===0||u===8&&r%u===4)&&(i=s[i>>>24]<<24^s[i>>16&255]<<16^s[i>>8&255]<<8^s[i&255],r%u===0&&(i=i<<8^i>>>24^l<<24,l=l<<1^(l>>7)*283)),o[r]=o[r-u]^i;for(n=0;r;n++,r--)i=o[n&3?r:r-4],r<=4||n<4?a[n]=i:a[n]=f[0][s[i>>>24]]^f[1][s[i>>16&255]]^f[2][s[i>>8&255]]^f[3][s[i&255]]}encrypt(e){return this._crypt(e,0)}decrypt(e){return this._crypt(e,1)}_precompute(){let e=this._tables[0],r=this._tables[1],n=e[4],i=r[4],o,a,s,f=[],u=[],l,h,m,g,E,v;for(o=0;o<256;o++)u[(f[o]=o<<1^(o>>7)*283)^o]=o;for(a=s=0;!n[a];a^=l||1,s=u[s]||1)for(g=s^s<<1^s<<2^s<<3^s<<4,g=g>>8^g&255^99,n[a]=g,i[g]=a,m=f[h=f[l=f[a]]],v=m*16843009^h*65537^l*257^a*16843008,E=f[g]*257^g*16843008,o=0;o<4;o++)e[o][a]=E=E<<24^E>>>8,r[o][g]=v=v<<24^v>>>8;for(o=0;o<5;o++)e[o]=e[o].slice(0),r[o]=r[o].slice(0)}_crypt(e,r){if(e.length!==4)throw new Error("invalid aes block size");let n=this._key[r],i=e[0]^n[0],o=e[r?3:1]^n[1],a=e[2]^n[2],s=e[r?1:3]^n[3],f,u,l,h=n.length/4-2,m,g=4,E=[0,0,0,0],v=this._tables[r],S=v[0],R=v[1],F=v[2],j=v[3],q=v[4];for(m=0;m<h;m++)f=S[i>>>24]^R[o>>16&255]^F[a>>8&255]^j[s&255]^n[g],u=S[o>>>24]^R[a>>16&255]^F[s>>8&255]^j[i&255]^n[g+1],l=S[a>>>24]^R[s>>16&255]^F[i>>8&255]^j[o&255]^n[g+2],s=S[s>>>24]^R[i>>16&255]^F[o>>8&255]^j[a&255]^n[g+3],g+=4,i=f,o=u,a=l;for(m=0;m<4;m++)E[r?3&-m:m]=q[i>>>24]<<24^q[o>>16&255]<<16^q[a>>8&255]<<8^q[s&255]^n[g++],f=i,i=o,o=a,a=s,s=f;return E}};rt.prototype._tables=[[[],[],[],[],[]],[[],[],[],[],[]]]});function Dn(t){let e,r,n,i=[2479122403,2108737444,3518906241,22203222];for(n=65536;n--;)for(r=0;r<t.length;r+=16){let a=[0,0,0,0];for(e=0;e<16;e+=4)e+r<t.length-3&&(a[e/4]=t.readInt32BE(e+r));i=new rt(a).encrypt(i)}let o=p.Buffer.allocUnsafe(16);for(e=0;e<4;e++)o.writeInt32BE(i[e],e*4);return o}function qn(t,e,r){let n=p.Buffer.from(e.s,"base64"),i=1e5,o="SHA-512";window.crypto.subtle.importKey("raw",t,{name:"PBKDF2"},!1,"deriveKey").then(a=>window.crypto.subtle.deriveBits({name:"PBKDF2",salt:n,iterations:i,hash:{name:o}},a,256)).then(a=>{r(null,p.Buffer.from(a))}).catch(r)}var D,At,nt,xa=J(()=>{c();Aa();D=class{constructor(e){if(e.length!==16)throw Error("Wrong key length. Key must be 128bit.");let r=[];for(let n=0;n<4;n++)r[n]=e.readInt32BE(n*4);this.aes=new rt(r)}encryptCBC(e){let r=[0,0,0,0],n=Array(4),i,o;for(i=0;i<e.length;i+=16){for(o=0;o<4;o++)n[o]=e.readUInt32BE(i+o*4)^r[o];for(r=this.aes.encrypt(n),o=0;o<4;o++)e.writeInt32BE(r[o],i+o*4)}}decryptCBC(e){let r=[0,0,0,0],n=Array(4),i=Array(4),o,a;for(o=0;o<e.length;o+=16){for(a=0;a<4;a++)n[a]=e.readUInt32BE(o+a*4);for(i=n,n=this.aes.decrypt(n),a=0;a<4;a++)e.writeInt32BE(n[a]^r[a],o+a*4);r=i}}stringhash(e){let r=[0,0,0,0];for(let i=0;i<e.length;i+=4)if(e.length-i<4){let o=e.length-i;r[i/4&3]^=e.readIntBE(i,o)<<(4-o)*8}else r[i/4&3]^=e.readInt32BE(i);for(let i=16384;i--;)r=this.aes.encrypt(r);let n=p.Buffer.allocUnsafe(8);return n.writeInt32BE(r[0],0),n.writeInt32BE(r[2],4),n}encryptECB(e){let r=[];for(let n=0;n<e.length;n+=16)r[0]=e.readInt32BE(n),r[1]=e.readInt32BE(n+4),r[2]=e.readInt32BE(n+8),r[3]=e.readInt32BE(n+12),r=this.aes.encrypt(r),e.writeInt32BE(r[0],n),e.writeInt32BE(r[1],n+4),e.writeInt32BE(r[2],n+8),e.writeInt32BE(r[3],n+12);return e}decryptECB(e){let r=[];for(let n=0;n<e.length;n+=16)r[0]=e.readInt32BE(n),r[1]=e.readInt32BE(n+4),r[2]=e.readInt32BE(n+8),r[3]=e.readInt32BE(n+12),r=this.aes.decrypt(r),e.writeInt32BE(r[0],n),e.writeInt32BE(r[1],n+4),e.writeInt32BE(r[2],n+8),e.writeInt32BE(r[3],n+12);return e}},At=class{constructor(e,r,n=0){this.aes=e,this.nonce=r.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.ctr=p.Buffer.alloc(16),this.nonce.copy(this.ctr,0),this.incrementCTR(n/16)}encrypt(e){for(let r=0;r<e.length;r+=16){let n=this.aes.encryptECB(p.Buffer.from(this.ctr));for(let i=0;i<16;i++)e[r+i]^=n[i];this.incrementCTR()}return e}decrypt(e){for(let r=0;r<e.length;r+=16){let n=this.aes.encryptECB(p.Buffer.from(this.ctr));for(let i=0;i<16;i++)e[r+i]^=n[i];this.incrementCTR()}return e}incrementCTR(e=1){let r=this.ctr,n=15,i;for(;e!==0;)i=(e+r[n])%256,e=Math.floor((e+r[n])/256),r[n]=i,n-=1,n<0&&(n=15)}},nt=class{constructor(e,r,n=0){this.aes=e,this.nonce=r.slice(0,8),this.increment=131072,this.posNext=this.increment,this.pos=0,this.mac=p.Buffer.alloc(16),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.macs=[]}condense(){this.mac&&(this.macs.push(this.mac),this.mac=void 0);let e=p.Buffer.alloc(16);for(let n=0;n<this.macs.length;n++){for(let i=0;i<16;i++)e[i]^=this.macs[n][i];this.aes.encryptECB(e)}let r=p.Buffer.allocUnsafe(8);return r.writeInt32BE(e.readInt32BE(0)^e.readInt32BE(4),0),r.writeInt32BE(e.readInt32BE(8)^e.readInt32BE(12),4),r}update(e){for(let r=0;r<e.length;r+=16){for(let n=0;n<16;n++)this.mac[n]^=e[r+n];this.aes.encryptECB(this.mac),this.checkBounding()}}checkBounding(){this.pos+=16,this.pos>=this.posNext&&(this.macs.push(p.Buffer.from(this.mac)),this.nonce.copy(this.mac,0),this.nonce.copy(this.mac,8),this.increment<1048576&&(this.increment+=131072),this.posNext+=this.increment)}}});function G(t){return typeof t=="string"?xt(t):t}function C(t){return t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function xt(t){return p.Buffer.from(t,"base64")}function le(t){return new D(Wn(t).slice(0,16))}function gr(t,e={}){let r=e.start||0;if(r!==0)throw Error("Encryption cannot start midstream otherwise MAC verification will fail.");t=G(t),t||(t=(0,Ra.default)(24)),t instanceof p.Buffer||(t=p.Buffer.from(t));let n=new pr.Transform({transform(s,f,u){a.update(s);let l=o.encrypt(s);u(null,p.Buffer.from(l))},flush(s){n.mac=a.condense(),n.key=Tc(t,n.mac),s()}});if(t.length!==24)throw Error("Wrong key length. Key must be 192bit.");let i=new D(t.slice(0,16)),o=new At(i,t.slice(16),r),a=new nt(i,t.slice(16));return n=(0,yr.default)(hr(16),n),n}function mr(t,e={}){let r=e.start||0;if(r!==0&&(e.disableVerification=!0),r%16!==0)throw Error("start argument of megaDecrypt must be a multiple of 16");t=G(t),t instanceof p.Buffer||(t=p.Buffer.from(t));let n=le(t),i=new At(n,t.slice(16),r),o=!e.disableVerification&&new nt(n,t.slice(16)),a=new pr.Transform({transform(s,f,u){let l=i.decrypt(s);o&&o.update(l),u(null,p.Buffer.from(l))},flush(s){if(o&&(a.mac=o.condense()),!e.disableVerification&&!a.mac.equals(t.slice(24))){s(Error("MAC verification failed"));return}s()}});return a=(0,yr.default)(hr(16),a),a}function Ia(t){t=G(t),t instanceof p.Buffer||(t=p.Buffer.from(t));let e=new pr.Transform({transform(i,o,a){n.update(i),a(null,i)},flush(i){if(e.mac=n.condense(),!e.mac.equals(t.slice(24))){i(Error("MAC verification failed"));return}i()}});if(t.length!==32)throw Error("Wrong key length. Key must be 256bit.");let r=le(t),n=new nt(r,t.slice(16));return e=(0,yr.default)(hr(16),e),e}function Wn(t){let e=p.Buffer.alloc(32);t.copy(e);for(let r=0;r<16;r++)e.writeUInt8(e.readUInt8(r)^e.readUInt8(16+r,!0),r);return e}function Tc(t,e){let r=p.Buffer.alloc(32);t.copy(r),e.copy(r,24);for(let n=0;n<16;n++)r.writeUInt8(r.readUInt8(n)^r.readUInt8(16+n),n);return r}function Ba(t,e){if(t.length!==e.length)return!1;let r=t.length,n=0;for(let i=0;i<r;i++)n|=t[i]^e[i];return n===0}var pr,yr,Ra,Rt=J(()=>{c();pr=X(Ue(),1),yr=X(Ea(),1);tt();Ra=X(Nn(),1);xa()});function Tt(t){let e=[];for(;t-- >0;)e[t]=0;return e}function Ot(t){let e=t.length;if(t[e-1])return t;for(;e>1&&t[e-1]===0;)e--;return t.slice(0,e)}function Pc(t){let e=1,r;return(r=t>>>16)!==0&&(t=r,e+=16),(r=t>>8)!==0&&(t=r,e+=8),(r=t>>4)!==0&&(t=r,e+=4),(r=t>>2)!==0&&(t=r,e+=2),(r=t>>1)!==0&&(t=r,e+=1),e}function Oa(t,e){let r=t.length,n=e.length;if(r<n)return Oa(e,t);let i=[],o=0,a=0;for(;a<n;a++)o+=t[a]+e[a],i[a]=o&268435455,o>>>=28;for(;a<r;a++)o+=t[a],i[a]=o&268435455,o>>>=28;return o&&(i[a]=o),i}function te(t,e){let r=t.length,n=e.length;if(n>r)return[];if(n===r){if(e[n-1]>t[n-1])return[];if(n===1)return[t[0]-e[0]]}let i=[],o=0,a;for(a=0;a<n;a++)o+=t[a]-e[a],i[a]=o&268435455,o>>=28;for(;a<r;a++)o+=t[a],i[a]=o&268435455,o>>=28;return o?[]:Ot(i)}function $n(t,e,r,n,i){let o=r&16383,a=r>>14,s=n&16383,f=n>>14,u=a*s+f*o,l=o*s+((u&16383)<<14)+t[e]+i;return t[e]=l&268435455,i=a*f+(u>>14)+(l>>28),i}function Cc(t){let e=t.length,r=2*e,n=Tt(r),i=0,o,a;for(o=0;o<e;o++){for(i=$n(n,2*o,t[o],t[o],0),a=o+1;a<e;a++)i=$n(n,o+a,2*t[a],t[o],i);n[o+e]=i}return Ot(n)}function Se(t,e){let r=t.length,n=e.length,i=Tt(r+n-1),o,a,s;for(a=0;a<n;a++){for(o=0,s=0;s<r;s++)o=$n(i,a+s,t[s],e[a],o);i[a+r]=o}return Ot(i)}function It(t,e,r){let n=0;for(;e>=0&&r-- >0;)n=n*268435456+t[e--];return n}function Pa(t,e){let r=t.length-1,n=e.length-1,i=r-n,o,a,s,f;if(r<n||r===n&&(t[r]<e[r]||r>0&&t[r]===e[r]&&t[r-1]<e[r-1]))return ye.q=[0],ye.mod=t,ye;if(r===n&&It(t,n,2)/It(e,n,2)<4){for(o=t.concat(),a=0;s=te(o,e),s.length!==0;)o=s,a++;return ye.q=[a],ye.mod=o,ye}let u=Math.floor(Math.log(e[n])/Oc)+1,l=28-u;o=t.concat();let h=e.concat();if(l){for(f=n;f>0;f--)h[f]=h[f]<<l&268435455|h[f-1]>>u;for(h[0]=h[0]<<l&268435455,o[r]&(268435455<<u&268435455)&&(o[++r]=0,i++),f=r;f>0;f--)o[f]=o[f]<<l&268435455|o[f-1]>>u;o[0]=o[0]<<l&268435455}let m,g=Tt(i+1),E=Tt(i).concat(h);for(;m=te(o,E),m.length!==0;)g[i]++,o=m;let v=h[n],S=It(h,n,2),R;for(f=r;f>n;f--){R=f-n-1,f>=o.length?g[R]=1:o[f]===v?g[R]=268435455:g[R]=Math.floor(It(o,f,2)/v);let F=It(o,f,3);for(;g[R]*S>F;)g[R]--;E=E.slice(1),m=te(o,Se([g[R]],E)),m.length===0&&(g[R]--,m=te(o,Se([g[R]],E))),o=m}if(l){for(f=0;f<o.length-1;f++)o[f]=o[f]>>l|o[f+1]<<u&268435455;o[o.length-1]>>=l}return ye.q=Ot(g),ye.mod=Ot(o),ye}function Fc(t,e){let r=0,n;for(let i=t.length-1;i>=0;i--)n=t[i],r=((n>>14)+(r<<14))%e,r=((n&16383)+(r<<14))%e;return r}function it(t,e){if(e.length===1){if(t.length===1)return[t[0]%e[0]];if(e[0]<16383)return[Fc(t,e[0])]}return Pa(t,e).mod}function Bt(t,e,r){let n=t.length-(e.length<<1);if(n>0)return Bt(t.slice(0,n).concat(Bt(t.slice(n),e,r)),e,r);let i=e.length+1,o=e.length-1,a,s=Se(t.slice(o),r).slice(i),f=t.slice(0,i),u=Se(s,e).slice(0,i),l=te(f,u);l.length===0&&(f[i]=1,l=te(f,u));for(let h=0;a=te(l,e),a.length!==0;h++)if(l=a,h>=3)return Bt(l,e,r);return l}function Ta(t,e,r){let n=t.concat(),i=e.length-1,o=r.length*2,a=Tt(o+1);for(a[o]=1,a=Pa(a,r).q,o=Pc(e[i])-2;i>=0;i--){for(;o>=0;o-=1)n=Bt(Cc(n),r,a),e[i]&1<<o&&(n=Bt(Se(n,t),r,a));o=28-1}return n}function kc(t,e,r,n,i){let o=Ta(it(t,r),it(e,te(r,[1])),r),a=Ta(it(t,n),it(e,te(n,[1])),n),s=te(a,o);return s.length===0?(s=te(o,a),s=it(Se(s,i),n),s=te(n,s)):s=it(Se(s,i),n),Oa(Se(s,r),o)}function Ca(t){let e=1,r=[0],n=0,i=256,o=t.length,a;if(o<2)return 0;let s=(o-2)*8,f=t.charCodeAt(0)*256+t.charCodeAt(1);if(f>s||f<s-8)return 0;for(let u=0;u<s;u++)(i<<=1)>255&&(i=1,a=t.charCodeAt(--o)),e>268435455&&(e=1,r[++n]=0),a&i&&(r[n]|=e),e<<=1;return r}function Lc(t){let e=1,r=0,n=[0],i=1,o=0,a=t.length*28,s="",f;for(f=0;f<a;f++)t[r]&e&&(n[o]|=i),(i<<=1)>255&&(i=1,n[++o]=0),(e<<=1)>268435455&&(e=1,r++);for(;o>=0&&n[o]===0;)o--;for(f=0;f<=o;f++)s=String.fromCharCode(n[f])+s;return s}function Fa(t){let e=[];for(let r=0;r<4;r++){let n=(t[0]*256+t[1]+7>>3)+2;if(e[r]=Ca(t.toString("binary").substr(0,n)),typeof e[r]=="number"){if(r!==4||t.length>=16)return!1;break}t=t.slice(n)}return e}function ka(t,e){let r=Ca(t.toString("binary")),n=Lc(kc(r,e[2],e[0],e[1],e[3]));return p.Buffer.from(n,"binary")}var ye,Oc,La=J(()=>{c();ye={},Oc=Math.log(2)});var Ma,wr=J(()=>{c();Ma=null});var Mc,Ua,ja=J(()=>{c();Mc=globalThis.fetch,Ua=Mc});var Uc,Pt,Gn=J(()=>{c();wr();Uc=globalThis.AbortController||Ma,Pt=Uc});function Da(t){if(t.name!=="AbortError")throw t}var qa,Kn,Na,jc,Nc,Dc,Ae,je,br=J(()=>{c();qa=X(Je(),1);wr();wr();ja();Gn();tt();Kn=4,Na={1:"EINTERNAL (-1): An internal error has occurred. Please submit a bug report, detailing the exact circumstances in which this error occurred.",2:"EARGS (-2): You have passed invalid arguments to this command.",3:"EAGAIN (-3): A temporary congestion or server malfunction prevented your request from being processed. No data was altered. Retried "+Kn+" times.",4:"ERATELIMIT (-4): You have exceeded your command weight per time quota. Please wait a few seconds, then try again (this should never happen in sane real-life applications).",5:"EFAILED (-5): The upload failed. Please restart it from scratch.",6:"ETOOMANY (-6): Too many concurrent IP addresses are accessing this upload target URL.",7:"ERANGE (-7): The upload file packet is out of range or not starting and ending on a chunk boundary.",8:"EEXPIRED (-8): The upload target URL you are trying to access has expired. Please request a fresh one.",9:"ENOENT (-9): Object (typically, node or user) not found. Wrong password?",10:"ECIRCULAR (-10): Circular linkage attempted",11:"EACCESS (-11): Access violation (e.g., trying to write to a read-only share)",12:"EEXIST (-12): Trying to create an object that already exists",13:"EINCOMPLETE (-13): Trying to access an incomplete resource",14:"EKEY (-14): A decryption operation failed (never returned by the API)",15:"ESID (-15): Invalid or expired user session, please relogin",16:"EBLOCKED (-16): User blocked",17:"EOVERQUOTA (-17): Request over quota",18:"ETEMPUNAVAIL (-18): Resource temporarily not available, please try again later"},jc="https://g.api.mega.co.nz/",Nc=null,Dc=null,Ae=class extends qa.EventEmitter{constructor(e,r={}){super(),this.keepalive=e,this.counterId=Math.random().toString().substr(2,10),this.gateway=r.gateway||jc;let n="1.0.6";this.userAgent=r.userAgent===null?null:`${r.userAgent||""} megajs/${n}`.trim(),this.httpAgent=r.httpAgent||Nc,this.httpsAgent=r.httpsAgent||Dc,this.fetch=r.fetch||this.defaultFetch.bind(this),this.closed=!1}defaultFetch(e,r){return r||(r={}),r.agent||(r.agent=n=>n.protocol==="http:"?this.httpAgent:this.httpsAgent),this.userAgent&&(r.headers||(r.headers={}),r.headers["user-agent"]||(r.headers["user-agent"]=this.userAgent)),Ua(e,r)}request(e,r,n=0){let i=e.a==="sml";if(this.closed&&!i)throw Error("API is closed");let[o,a]=k(r),s={id:(this.counterId++).toString()};return this.sid&&(s.sid=this.sid),typeof e._querystring=="object"&&(Object.assign(s,e._querystring),delete e._querystring),this.fetch(`${this.gateway}cs?${new URLSearchParams(s)}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify([e])}).then(f=>f.json()).then(f=>{if(this.closed&&!i)return;if(!f)return o(Error("Empty response"));f.length&&(f=f[0]);let u;if(typeof f=="number"&&f<0){if(f===-3&&n<Kn)return setTimeout(()=>{this.request(e,o,n+1)},Math.pow(2,n+1)*1e3);u=Error(Na[-f])}else this.keepalive&&f&&f.sn&&this.pull(f.sn);o(u,f)}).catch(f=>{o(f)}),a}pull(e,r=0){let n=new Pt;this.sn=n,this.fetch(`${this.gateway}sc?${new URLSearchParams({sn:e,sid:this.sid})}`,{method:"POST",signal:n.signal}).then(i=>i.json()).then(i=>{if(this.sn=void 0,!this.closed){if(typeof i=="number"&&i<0){if(i===-3&&r<Kn)return setTimeout(()=>{this.pull(e,r+1)},Math.pow(2,r+1)*1e3);throw Error(Na[-i])}i.w?this.wait(i.w,e):i.sn&&(i.a&&this.emit("sc",i.a),this.pull(i.sn))}}).catch(Da)}wait(e,r){let n=new Pt;this.sn=n,this.fetch(e,{method:"POST",signal:n.signal}).then(()=>{this.sn=void 0,this.pull(r)}).catch(Da)}close(){this.sn&&this.sn.abort(),this.closed=!0}static getGlobalApi(){return Ae.globalApi||(Ae.globalApi=new Ae),Ae.globalApi}};je=Ae});var Hn=b((jp,Wa)=>{"use strict";c();Wa.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var Ct=b((Np,$a)=>{"use strict";c();var qc=Hn();$a.exports=function(){return qc()&&!!Symbol.toStringTag}});var Ha=b((Dp,Ka)=>{"use strict";c();var Ga=typeof Symbol<"u"&&Symbol,Wc=Hn();Ka.exports=function(){return typeof Ga!="function"||typeof Symbol!="function"||typeof Ga("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Wc()}});var Va=b((qp,za)=>{"use strict";c();var $c="Function.prototype.bind called on incompatible ",zn=Array.prototype.slice,Gc=Object.prototype.toString,Kc="[object Function]";za.exports=function(e){var r=this;if(typeof r!="function"||Gc.call(r)!==Kc)throw new TypeError($c+r);for(var n=zn.call(arguments,1),i,o=function(){if(this instanceof i){var l=r.apply(this,n.concat(zn.call(arguments)));return Object(l)===l?l:this}else return r.apply(e,n.concat(zn.call(arguments)))},a=Math.max(0,r.length-n.length),s=[],f=0;f<a;f++)s.push("$"+f);if(i=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(o),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i}});var Er=b((Wp,Ya)=>{"use strict";c();var Hc=Va();Ya.exports=Function.prototype.bind||Hc});var Xa=b(($p,Ja)=>{"use strict";c();var zc=Er();Ja.exports=zc.call(Function.call,Object.prototype.hasOwnProperty)});var Sr=b((Gp,ts)=>{"use strict";c();var I,ut=SyntaxError,es=Function,st=TypeError,Vn=function(t){try{return es('"use strict"; return ('+t+").constructor;")()}catch{}},Ne=Object.getOwnPropertyDescriptor;if(Ne)try{Ne({},"")}catch{Ne=null}var Yn=function(){throw new st},Vc=Ne?function(){try{return arguments.callee,Yn}catch{try{return Ne(arguments,"callee").get}catch{return Yn}}}():Yn,ot=Ha()(),xe=Object.getPrototypeOf||function(t){return t.__proto__},at={},Yc=typeof Uint8Array>"u"?I:xe(Uint8Array),ft={"%AggregateError%":typeof AggregateError>"u"?I:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?I:ArrayBuffer,"%ArrayIteratorPrototype%":ot?xe([][Symbol.iterator]()):I,"%AsyncFromSyncIteratorPrototype%":I,"%AsyncFunction%":at,"%AsyncGenerator%":at,"%AsyncGeneratorFunction%":at,"%AsyncIteratorPrototype%":at,"%Atomics%":typeof Atomics>"u"?I:Atomics,"%BigInt%":typeof BigInt>"u"?I:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?I:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?I:Float32Array,"%Float64Array%":typeof Float64Array>"u"?I:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?I:FinalizationRegistry,"%Function%":es,"%GeneratorFunction%":at,"%Int8Array%":typeof Int8Array>"u"?I:Int8Array,"%Int16Array%":typeof Int16Array>"u"?I:Int16Array,"%Int32Array%":typeof Int32Array>"u"?I:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ot?xe(xe([][Symbol.iterator]())):I,"%JSON%":typeof JSON=="object"?JSON:I,"%Map%":typeof Map>"u"?I:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ot?I:xe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?I:Promise,"%Proxy%":typeof Proxy>"u"?I:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?I:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?I:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ot?I:xe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?I:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ot?xe(""[Symbol.iterator]()):I,"%Symbol%":ot?Symbol:I,"%SyntaxError%":ut,"%ThrowTypeError%":Vc,"%TypedArray%":Yc,"%TypeError%":st,"%Uint8Array%":typeof Uint8Array>"u"?I:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?I:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?I:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?I:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?I:WeakMap,"%WeakRef%":typeof WeakRef>"u"?I:WeakRef,"%WeakSet%":typeof WeakSet>"u"?I:WeakSet},Jc=function t(e){var r;if(e==="%AsyncFunction%")r=Vn("async function () {}");else if(e==="%GeneratorFunction%")r=Vn("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vn("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=xe(i.prototype))}return ft[e]=r,r},Za={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ft=Er(),vr=Xa(),Xc=Ft.call(Function.call,Array.prototype.concat),Zc=Ft.call(Function.apply,Array.prototype.splice),Qa=Ft.call(Function.call,String.prototype.replace),_r=Ft.call(Function.call,String.prototype.slice),Qc=Ft.call(Function.call,RegExp.prototype.exec),eh=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,th=/\\(\\)?/g,rh=function(e){var r=_r(e,0,1),n=_r(e,-1);if(r==="%"&&n!=="%")throw new ut("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ut("invalid intrinsic syntax, expected opening `%`");var i=[];return Qa(e,eh,function(o,a,s,f){i[i.length]=s?Qa(f,th,"$1"):a||o}),i},nh=function(e,r){var n=e,i;if(vr(Za,n)&&(i=Za[n],n="%"+i[0]+"%"),vr(ft,n)){var o=ft[n];if(o===at&&(o=Jc(n)),typeof o>"u"&&!r)throw new st("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:o}}throw new ut("intrinsic "+e+" does not exist!")};ts.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new st("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new st('"allowMissing" argument must be a boolean');if(Qc(/^%?[^%]*%?$/g,e)===null)throw new ut("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=rh(e),i=n.length>0?n[0]:"",o=nh("%"+i+"%",r),a=o.name,s=o.value,f=!1,u=o.alias;u&&(i=u[0],Zc(n,Xc([0,1],u)));for(var l=1,h=!0;l<n.length;l+=1){var m=n[l],g=_r(m,0,1),E=_r(m,-1);if((g==='"'||g==="'"||g==="`"||E==='"'||E==="'"||E==="`")&&g!==E)throw new ut("property names with quotes must have matching quotes");if((m==="constructor"||!h)&&(f=!0),i+="."+m,a="%"+i+"%",vr(ft,a))s=ft[a];else if(s!=null){if(!(m in s)){if(!r)throw new st("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ne&&l+1>=n.length){var v=Ne(s,m);h=!!v,h&&"get"in v&&!("originalValue"in v.get)?s=v.get:s=s[m]}else h=vr(s,m),s=s[m];h&&!f&&(ft[a]=s)}}return s}});var ss=b((Kp,Ar)=>{"use strict";c();var Jn=Er(),lt=Sr(),is=lt("%Function.prototype.apply%"),os=lt("%Function.prototype.call%"),as=lt("%Reflect.apply%",!0)||Jn.call(os,is),rs=lt("%Object.getOwnPropertyDescriptor%",!0),De=lt("%Object.defineProperty%",!0),ih=lt("%Math.max%");if(De)try{De({},"a",{value:1})}catch{De=null}Ar.exports=function(e){var r=as(Jn,os,arguments);if(rs&&De){var n=rs(r,"length");n.configurable&&De(r,"length",{value:1+ih(0,e.length-(arguments.length-1))})}return r};var ns=function(){return as(Jn,is,arguments)};De?De(Ar.exports,"apply",{value:ns}):Ar.exports.apply=ns});var xr=b((Hp,ls)=>{"use strict";c();var fs=Sr(),us=ss(),oh=us(fs("String.prototype.indexOf"));ls.exports=function(e,r){var n=fs(e,!!r);return typeof n=="function"&&oh(e,".prototype.")>-1?us(n):n}});var ds=b((zp,hs)=>{"use strict";c();var ah=Ct()(),sh=xr(),Xn=sh("Object.prototype.toString"),Rr=function(e){return ah&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Xn(e)==="[object Arguments]"},cs=function(e){return Rr(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Xn(e)!=="[object Array]"&&Xn(e.callee)==="[object Function]"},fh=function(){return Rr(arguments)}();Rr.isLegacyArguments=cs;hs.exports=fh?Rr:cs});var gs=b((Vp,ys)=>{"use strict";c();var uh=Object.prototype.toString,lh=Function.prototype.toString,ch=/^\s*(?:function)?\*/,ps=Ct()(),Zn=Object.getPrototypeOf,hh=function(){if(!ps)return!1;try{return Function("return function*() {}")()}catch{}},Qn;ys.exports=function(e){if(typeof e!="function")return!1;if(ch.test(lh.call(e)))return!0;if(!ps){var r=uh.call(e);return r==="[object GeneratorFunction]"}if(!Zn)return!1;if(typeof Qn>"u"){var n=hh();Qn=n?Zn(n):!1}return Zn(e)===Qn}});var Es=b((Yp,bs)=>{"use strict";c();var ws=Function.prototype.toString,ct=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,ei,Ir;if(typeof ct=="function"&&typeof Object.defineProperty=="function")try{ei=Object.defineProperty({},"length",{get:function(){throw Ir}}),Ir={},ct(function(){throw 42},null,ei)}catch(t){t!==Ir&&(ct=null)}else ct=null;var dh=/^\s*class\b/,ti=function(e){try{var r=ws.call(e);return dh.test(r)}catch{return!1}},ph=function(e){try{return ti(e)?!1:(ws.call(e),!0)}catch{return!1}},yh=Object.prototype.toString,gh="[object Function]",mh="[object GeneratorFunction]",wh=typeof Symbol=="function"&&!!Symbol.toStringTag,ms=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{};bs.exports=ct?function(e){if(e===ms)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;try{ct(e,null,ei)}catch(r){if(r!==Ir)return!1}return!ti(e)}:function(e){if(e===ms)return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(typeof e=="function"&&!e.prototype)return!0;if(wh)return ph(e);if(ti(e))return!1;var r=yh.call(e);return r===gh||r===mh}});var ri=b((Jp,_s)=>{"use strict";c();var bh=Es(),Eh=Object.prototype.toString,vs=Object.prototype.hasOwnProperty,vh=function(e,r,n){for(var i=0,o=e.length;i<o;i++)vs.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},_h=function(e,r,n){for(var i=0,o=e.length;i<o;i++)n==null?r(e.charAt(i),i,e):r.call(n,e.charAt(i),i,e)},Sh=function(e,r,n){for(var i in e)vs.call(e,i)&&(n==null?r(e[i],i,e):r.call(n,e[i],i,e))},Ah=function(e,r,n){if(!bh(r))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Eh.call(e)==="[object Array]"?vh(e,r,i):typeof e=="string"?_h(e,r,i):Sh(e,r,i)};_s.exports=Ah});var ii=b((Xp,Ss)=>{"use strict";c();var ni=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],xh=typeof globalThis>"u"?w:globalThis;Ss.exports=function(){for(var e=[],r=0;r<ni.length;r++)typeof xh[ni[r]]=="function"&&(e[e.length]=ni[r]);return e}});var oi=b((Zp,As)=>{"use strict";c();var Rh=Sr(),Br=Rh("%Object.getOwnPropertyDescriptor%",!0);if(Br)try{Br([],"length")}catch{Br=null}As.exports=Br});var fi=b((Qp,Ts)=>{"use strict";c();var xs=ri(),Ih=ii(),si=xr(),Bh=si("Object.prototype.toString"),Rs=Ct()(),Th=typeof globalThis>"u"?w:globalThis,Is=Ih(),Oh=si("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},Ph=si("String.prototype.slice"),Bs={},Tr=oi(),ai=Object.getPrototypeOf;Rs&&Tr&&ai&&xs(Is,function(t){var e=new Th[t];if(Symbol.toStringTag in e){var r=ai(e),n=Tr(r,Symbol.toStringTag);if(!n){var i=ai(r);n=Tr(i,Symbol.toStringTag)}Bs[t]=n.get}});var Ch=function(e){var r=!1;return xs(Bs,function(n,i){if(!r)try{r=n.call(e)===i}catch{}}),r};Ts.exports=function(e){if(!e||typeof e!="object")return!1;if(!Rs||!(Symbol.toStringTag in e)){var r=Ph(Bh(e),8,-1);return Oh(Is,r)>-1}return Tr?Ch(e):!1}});var Ms=b((ey,Ls)=>{"use strict";c();var Ps=ri(),Fh=ii(),Cs=xr(),kh=Cs("Object.prototype.toString"),Fs=Ct()(),Os=typeof globalThis>"u"?w:globalThis,Lh=Fh(),Mh=Cs("String.prototype.slice"),ks={},ui=oi(),li=Object.getPrototypeOf;Fs&&ui&&li&&Ps(Lh,function(t){if(typeof Os[t]=="function"){var e=new Os[t];if(Symbol.toStringTag in e){var r=li(e),n=ui(r,Symbol.toStringTag);if(!n){var i=li(r);n=ui(i,Symbol.toStringTag)}ks[t]=n.get}}});var Uh=function(e){var r=!1;return Ps(ks,function(n,i){if(!r)try{var o=n.call(e);o===i&&(r=o)}catch{}}),r},jh=fi();Ls.exports=function(e){return jh(e)?!Fs||!(Symbol.toStringTag in e)?Mh(kh(e),8,-1):Uh(e):!1}});var Js=b(A=>{"use strict";c();var Nh=ds(),Dh=gs(),ie=Ms(),Us=fi();function ht(t){return t.call.bind(t)}var js=typeof BigInt<"u",Ns=typeof Symbol<"u",re=ht(Object.prototype.toString),qh=ht(Number.prototype.valueOf),Wh=ht(String.prototype.valueOf),$h=ht(Boolean.prototype.valueOf);js&&(Ds=ht(BigInt.prototype.valueOf));var Ds;Ns&&(qs=ht(Symbol.prototype.valueOf));var qs;function Lt(t,e){if(typeof t!="object")return!1;try{return e(t),!0}catch{return!1}}A.isArgumentsObject=Nh;A.isGeneratorFunction=Dh;A.isTypedArray=Us;function Gh(t){return typeof Promise<"u"&&t instanceof Promise||t!==null&&typeof t=="object"&&typeof t.then=="function"&&typeof t.catch=="function"}A.isPromise=Gh;function Kh(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(t):Us(t)||$s(t)}A.isArrayBufferView=Kh;function Hh(t){return ie(t)==="Uint8Array"}A.isUint8Array=Hh;function zh(t){return ie(t)==="Uint8ClampedArray"}A.isUint8ClampedArray=zh;function Vh(t){return ie(t)==="Uint16Array"}A.isUint16Array=Vh;function Yh(t){return ie(t)==="Uint32Array"}A.isUint32Array=Yh;function Jh(t){return ie(t)==="Int8Array"}A.isInt8Array=Jh;function Xh(t){return ie(t)==="Int16Array"}A.isInt16Array=Xh;function Zh(t){return ie(t)==="Int32Array"}A.isInt32Array=Zh;function Qh(t){return ie(t)==="Float32Array"}A.isFloat32Array=Qh;function ed(t){return ie(t)==="Float64Array"}A.isFloat64Array=ed;function td(t){return ie(t)==="BigInt64Array"}A.isBigInt64Array=td;function rd(t){return ie(t)==="BigUint64Array"}A.isBigUint64Array=rd;function Or(t){return re(t)==="[object Map]"}Or.working=typeof Map<"u"&&Or(new Map);function nd(t){return typeof Map>"u"?!1:Or.working?Or(t):t instanceof Map}A.isMap=nd;function Pr(t){return re(t)==="[object Set]"}Pr.working=typeof Set<"u"&&Pr(new Set);function id(t){return typeof Set>"u"?!1:Pr.working?Pr(t):t instanceof Set}A.isSet=id;function Cr(t){return re(t)==="[object WeakMap]"}Cr.working=typeof WeakMap<"u"&&Cr(new WeakMap);function od(t){return typeof WeakMap>"u"?!1:Cr.working?Cr(t):t instanceof WeakMap}A.isWeakMap=od;function hi(t){return re(t)==="[object WeakSet]"}hi.working=typeof WeakSet<"u"&&hi(new WeakSet);function ad(t){return hi(t)}A.isWeakSet=ad;function Fr(t){return re(t)==="[object ArrayBuffer]"}Fr.working=typeof ArrayBuffer<"u"&&Fr(new ArrayBuffer);function Ws(t){return typeof ArrayBuffer>"u"?!1:Fr.working?Fr(t):t instanceof ArrayBuffer}A.isArrayBuffer=Ws;function kr(t){return re(t)==="[object DataView]"}kr.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&kr(new DataView(new ArrayBuffer(1),0,1));function $s(t){return typeof DataView>"u"?!1:kr.working?kr(t):t instanceof DataView}A.isDataView=$s;var ci=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function kt(t){return re(t)==="[object SharedArrayBuffer]"}function Gs(t){return typeof ci>"u"?!1:(typeof kt.working>"u"&&(kt.working=kt(new ci)),kt.working?kt(t):t instanceof ci)}A.isSharedArrayBuffer=Gs;function sd(t){return re(t)==="[object AsyncFunction]"}A.isAsyncFunction=sd;function fd(t){return re(t)==="[object Map Iterator]"}A.isMapIterator=fd;function ud(t){return re(t)==="[object Set Iterator]"}A.isSetIterator=ud;function ld(t){return re(t)==="[object Generator]"}A.isGeneratorObject=ld;function cd(t){return re(t)==="[object WebAssembly.Module]"}A.isWebAssemblyCompiledModule=cd;function Ks(t){return Lt(t,qh)}A.isNumberObject=Ks;function Hs(t){return Lt(t,Wh)}A.isStringObject=Hs;function zs(t){return Lt(t,$h)}A.isBooleanObject=zs;function Vs(t){return js&&Lt(t,Ds)}A.isBigIntObject=Vs;function Ys(t){return Ns&&Lt(t,qs)}A.isSymbolObject=Ys;function hd(t){return Ks(t)||Hs(t)||zs(t)||Vs(t)||Ys(t)}A.isBoxedPrimitive=hd;function dd(t){return typeof Uint8Array<"u"&&(Ws(t)||Gs(t))}A.isAnyArrayBuffer=dd;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(t){Object.defineProperty(A,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})})});var Zs=b((ry,Xs)=>{c();Xs.exports=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}});var of=b(x=>{c();var Qs=Object.getOwnPropertyDescriptors||function(e){for(var r=Object.keys(e),n={},i=0;i<r.length;i++)n[r[i]]=Object.getOwnPropertyDescriptor(e,r[i]);return n},pd=/%[sdj%]/g;x.format=function(t){if(!qr(t)){for(var e=[],r=0;r<arguments.length;r++)e.push(Re(arguments[r]));return e.join(" ")}for(var r=1,n=arguments,i=n.length,o=String(t).replace(pd,function(s){if(s==="%%")return"%";if(r>=i)return s;switch(s){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}default:return s}}),a=n[r];r<i;a=n[++r])Dr(a)||!dt(a)?o+=" "+a:o+=" "+Re(a);return o};x.deprecate=function(t,e){if(typeof y<"u"&&y.noDeprecation===!0)return t;if(typeof y>"u")return function(){return x.deprecate(t,e).apply(this,arguments)};var r=!1;function n(){if(!r){if(y.throwDeprecation)throw new Error(e);y.traceDeprecation?console.trace(e):console.error(e),r=!0}return t.apply(this,arguments)}return n};var Lr={},ef=/^$/;y.env.NODE_DEBUG&&(Mr=y.env.NODE_DEBUG,Mr=Mr.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),ef=new RegExp("^"+Mr+"$","i"));var Mr;x.debuglog=function(t){if(t=t.toUpperCase(),!Lr[t])if(ef.test(t)){var e=y.pid;Lr[t]=function(){var r=x.format.apply(x,arguments);console.error("%s %d: %s",t,e,r)}}else Lr[t]=function(){};return Lr[t]};function Re(t,e){var r={seen:[],stylize:gd};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),gi(e)?r.showHidden=e:e&&x._extend(r,e),We(r.showHidden)&&(r.showHidden=!1),We(r.depth)&&(r.depth=2),We(r.colors)&&(r.colors=!1),We(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=yd),jr(r,t,r.depth)}x.inspect=Re;Re.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};Re.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function yd(t,e){var r=Re.styles[e];return r?"\x1B["+Re.colors[r][0]+"m"+t+"\x1B["+Re.colors[r][1]+"m":t}function gd(t,e){return t}function md(t){var e={};return t.forEach(function(r,n){e[r]=!0}),e}function jr(t,e,r){if(t.customInspect&&e&&Ur(e.inspect)&&e.inspect!==x.inspect&&!(e.constructor&&e.constructor.prototype===e)){var n=e.inspect(r,t);return qr(n)||(n=jr(t,n,r)),n}var i=wd(t,e);if(i)return i;var o=Object.keys(e),a=md(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(e)),Ut(e)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return di(e);if(o.length===0){if(Ur(e)){var s=e.name?": "+e.name:"";return t.stylize("[Function"+s+"]","special")}if(Mt(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(Nr(e))return t.stylize(Date.prototype.toString.call(e),"date");if(Ut(e))return di(e)}var f="",u=!1,l=["{","}"];if(tf(e)&&(u=!0,l=["[","]"]),Ur(e)){var h=e.name?": "+e.name:"";f=" [Function"+h+"]"}if(Mt(e)&&(f=" "+RegExp.prototype.toString.call(e)),Nr(e)&&(f=" "+Date.prototype.toUTCString.call(e)),Ut(e)&&(f=" "+di(e)),o.length===0&&(!u||e.length==0))return l[0]+f+l[1];if(r<0)return Mt(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var m;return u?m=bd(t,e,r,a,o):m=o.map(function(g){return yi(t,e,r,a,g,u)}),t.seen.pop(),Ed(m,f,l)}function wd(t,e){if(We(e))return t.stylize("undefined","undefined");if(qr(e)){var r="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(r,"string")}if(rf(e))return t.stylize(""+e,"number");if(gi(e))return t.stylize(""+e,"boolean");if(Dr(e))return t.stylize("null","null")}function di(t){return"["+Error.prototype.toString.call(t)+"]"}function bd(t,e,r,n,i){for(var o=[],a=0,s=e.length;a<s;++a)nf(e,String(a))?o.push(yi(t,e,r,n,String(a),!0)):o.push("");return i.forEach(function(f){f.match(/^\d+$/)||o.push(yi(t,e,r,n,f,!0))}),o}function yi(t,e,r,n,i,o){var a,s,f;if(f=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},f.get?f.set?s=t.stylize("[Getter/Setter]","special"):s=t.stylize("[Getter]","special"):f.set&&(s=t.stylize("[Setter]","special")),nf(n,i)||(a="["+i+"]"),s||(t.seen.indexOf(f.value)<0?(Dr(r)?s=jr(t,f.value,null):s=jr(t,f.value,r-1),s.indexOf(`
`)>-1&&(o?s=s.split(`
`).map(function(u){return"  "+u}).join(`
`).substr(2):s=`
`+s.split(`
`).map(function(u){return"   "+u}).join(`
`))):s=t.stylize("[Circular]","special")),We(a)){if(o&&i.match(/^\d+$/))return s;a=JSON.stringify(""+i),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function Ed(t,e,r){var n=0,i=t.reduce(function(o,a){return n++,a.indexOf(`
`)>=0&&n++,o+a.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?r[0]+(e===""?"":e+`
 `)+" "+t.join(`,
  `)+" "+r[1]:r[0]+e+" "+t.join(", ")+" "+r[1]}x.types=Js();function tf(t){return Array.isArray(t)}x.isArray=tf;function gi(t){return typeof t=="boolean"}x.isBoolean=gi;function Dr(t){return t===null}x.isNull=Dr;function vd(t){return t==null}x.isNullOrUndefined=vd;function rf(t){return typeof t=="number"}x.isNumber=rf;function qr(t){return typeof t=="string"}x.isString=qr;function _d(t){return typeof t=="symbol"}x.isSymbol=_d;function We(t){return t===void 0}x.isUndefined=We;function Mt(t){return dt(t)&&mi(t)==="[object RegExp]"}x.isRegExp=Mt;x.types.isRegExp=Mt;function dt(t){return typeof t=="object"&&t!==null}x.isObject=dt;function Nr(t){return dt(t)&&mi(t)==="[object Date]"}x.isDate=Nr;x.types.isDate=Nr;function Ut(t){return dt(t)&&(mi(t)==="[object Error]"||t instanceof Error)}x.isError=Ut;x.types.isNativeError=Ut;function Ur(t){return typeof t=="function"}x.isFunction=Ur;function Sd(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}x.isPrimitive=Sd;x.isBuffer=Zs();function mi(t){return Object.prototype.toString.call(t)}function pi(t){return t<10?"0"+t.toString(10):t.toString(10)}var Ad=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xd(){var t=new Date,e=[pi(t.getHours()),pi(t.getMinutes()),pi(t.getSeconds())].join(":");return[t.getDate(),Ad[t.getMonth()],e].join(" ")}x.log=function(){console.log("%s - %s",xd(),x.format.apply(x,arguments))};x.inherits=de();x._extend=function(t,e){if(!e||!dt(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t};function nf(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var qe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;x.promisify=function(e){if(typeof e!="function")throw new TypeError('The "original" argument must be of type Function');if(qe&&e[qe]){var r=e[qe];if(typeof r!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,qe,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var n,i,o=new Promise(function(f,u){n=f,i=u}),a=[],s=0;s<arguments.length;s++)a.push(arguments[s]);a.push(function(f,u){f?i(f):n(u)});try{e.apply(this,a)}catch(f){i(f)}return o}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),qe&&Object.defineProperty(r,qe,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,Qs(e))};x.promisify.custom=qe;function Rd(t,e){if(!t){var r=new Error("Promise was rejected with a falsy value");r.reason=t,t=r}return e(t)}function Id(t){if(typeof t!="function")throw new TypeError('The "original" argument must be of type Function');function e(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if(typeof i!="function")throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,r).then(function(s){y.nextTick(a.bind(null,null,s))},function(s){y.nextTick(Rd.bind(null,s,a))})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,Qs(t)),e}x.callbackify=Id});var ff=b((iy,sf)=>{c();var Bd=Ue(),Td=of(),af=Bd.Transform;function jt(t){if(!(this instanceof jt))return new jt(t);this._toSkip=t.skip,af.call(this,t)}Td.inherits(jt,af);jt.prototype._transform=function(t,e,r){this._toSkip==0?this.push(t):this._toSkip>t.length?this._toSkip-=t.length:(this._toSkip!==t.length&&this.push(t.slice(this._toSkip)),this._toSkip=0),r()};sf.exports=jt});var uf,lf,cf,ce,wi,ge,bi=J(()=>{c();Rt();br();uf=X(Je(),1);tt();lf=X(Ue(),1),cf=X(ff(),1);Gn();ce=class extends uf.EventEmitter{constructor(e){if(super(),this.checkConstructorArgument(e.downloadId),this.checkConstructorArgument(e.key),this.checkConstructorArgument(e.loadedFile),this.downloadId=e.downloadId,this.key=e.key?G(e.key):null,this.type=e.directory?1:0,this.directory=!!e.directory,this.api=e.api||je.getGlobalApi(),!(this.api instanceof je))throw Error("api must be a instance of API");this.loadedFile=e.loadedFile}get createdAt(){if(typeof this.timestamp<"u")return this.timestamp*1e3}checkConstructorArgument(e){if(typeof e=="string"&&!/^[\w-]+$/.test(e))throw Error(`Invalid argument: "${e}"`)}loadMetadata(e,r){if(this.size=r.s||0,this.timestamp=r.ts||0,this.type=r.t,this.directory=!!r.t,this.owner=r.u,this.name=null,!e||!r.k)return;let n=r.k.split(":");this.key=G(n[n.length-1]),e.decryptECB(this.key),r.a&&this.decryptAttributes(r.a)}decryptAttributes(e){if(!this.key)return this;e=xt(e),le(this.key).decryptCBC(e);let r=ce.unpackAttributes(e);r&&this.parseAttributes(r)}parseAttributes(e){this.attributes=e,this.name=e.n,this.label=wi[e.lbl||0],this.favorited=!!e.fav}loadAttributes(e){let[r,n]=k(e),i=this.directory?{a:"f",c:1,ca:1,r:1,_querystring:{n:this.downloadId}}:{a:"g",p:this.downloadId};return this.api.request(i,(o,a)=>{if(o)return r(o);if(this.directory){let s=Object.create(null),f=a.f,u=f.find(h=>h.k&&h.h===h.k.split(":")[0]),l=this.key?new D(this.key):null;this.nodeId=u.h,this.timestamp=u.ts,s[u.h]=this;for(let h of f){if(h===u)continue;let m=new ce(h,this.storage);m.loadMetadata(l,h),m.downloadId=[this.downloadId,h.h],s[h.h]=m}for(let h of f){let m=s[h.p];if(m){let g=s[h.h];m.children||(m.children=[]),m.children.push(g),g.parent=m}}if(this.loadMetadata(l,u),this.key&&!this.attributes)return r(Error("Attributes could not be decrypted with provided key."));if(this.loadedFile){let h=s[this.loadedFile];typeof h>"u"?r(Error("Node (file or folder) not found in folder")):r(null,h)}else r(null,this)}else{if(this.size=a.s,this.decryptAttributes(a.at),this.key&&!this.attributes)return r(Error("Attributes could not be decrypted with provided key."));r(null,this)}}),n}download(e,r){typeof e=="function"&&(r=e,e={}),e||(e={});let n=e.start||0,i=e.returnCiphertext?n:n-n%16,o=e.end||null,a=e.maxConnections||4,s=e.initialChunkSize||128*1024,f=e.chunkSizeIncrement||128*1024,u=e.maxChunkSize||1024*1024,l=e.forceHttps??!0?2:0,h={a:"g",g:1,ssl:l};if(this.nodeId?h.n=this.nodeId:Array.isArray(this.downloadId)?(h._querystring={n:this.downloadId[0]},h.n=this.downloadId[1]):h.p=this.downloadId,this.directory)throw Error("Can't download: folder download isn't supported");if(!this.key&&!e.returnCiphertext)throw Error("Can't download: key isn't defined");let m=this.key&&!e.returnCiphertext?mr(this.key,{start:i,disableVerification:i!==0||o!==null}):new lf.PassThrough,g=i===n?m:m.pipe(new cf.default({skip:n-i})),E=e.handleRetries||ce.defaultHandleRetries;return this.api.request(h,(v,S)=>{if(v)return g.emit("error",v);if(typeof S.g!="string"||S.g.substr(0,4)!=="http")return g.emit("error",Error("MEGA servers returned an invalid response, maybe caused by rate limit"));if(S.s===0)return g.end();if(o||(o=S.s-1),n>o)return g.emit("error",Error("You can't download past the end of the file."));function R(O){if(O.status!==200){if(O.status===509){let $=O.headers.get("x-mega-time-left"),V=Error("Bandwidth limit reached: "+$+" seconds until it resets");V.timeLimit=$,g.emit("error",V);return}g.emit("error",Error("MEGA returned a "+O.status+" status code"))}}function F(O){g.emit("error",O)}let j=0;if(g.on("data",O=>{j+=O.length,g.emit("progress",{bytesLoaded:j,bytesTotal:S.s})}),a===1){let O=new Pt;g.on("close",()=>{O.abort()}),this.api.fetch(S.g+"/"+i+"-"+o,{signal:O.signal}).then($=>{R($);let V=$.body;if(V)if(V.pipe)$.body.pipe(m);else if(V.getReader){let Y=V.getReader(),ne=({done:me,value:$e})=>{if(me)m.end();else return m.write($e),Y.read().then(ne)};Y.read().then(ne)}else throw Error("Single connection streaming not supported by fetch");else throw Error("Missing response body")}).catch(F);return}let q={},N=0,M=0,W=!1,oe=i,z=s;g.on("error",()=>{W=!0}),g.on("close",()=>{W=!0});let pt=()=>{if(oe>o){W=!0,N===M&&m.end();return}let O=oe,$=Math.min(o,O+z-1),V=N++,Y=0,ne=()=>{Y++,this.api.fetch(S.g+"/"+O+"-"+$).then(me=>(R(me),me.arrayBuffer())).then(me=>{let $e=p.Buffer.from(me);q[V]=$e,M===V&&K()},me=>{E(Y,me,$e=>{$e?F($e):ne()})})};ne(),oe=$+1,z<u&&(z=z+f)},K=()=>{let O;for(;;){let $=q[M];if(!$||(O=!m.write($),delete q[M],M++,O))break}W&&N===M&&m.end(),O?m.once("drain",K):pt()};for(let O=0;O<a;O++)pt()}),r&&cr(g,r),g}downloadBuffer(e,r){let[n,i]=k(r);return this.download(e,n),i}link(e,r){arguments.length===1&&typeof e=="function"&&(r=e,e={noKey:!1});let[n,i]=k(r);typeof e=="boolean"&&(e={noKey:e});let o=`https://mega.nz/${this.directory?"folder":"file"}/${this.downloadId}`;return!e.noKey&&this.key&&(o+=`#${C(this.key)}`),!e.noKey&&this.loadedFile&&(o+=`/file/${this.loadedFile}`),n(null,o),i}static fromURL(e,r={}){if(typeof e=="object")return new ce(e);let n=new URL(e);if(n.hostname!=="mega.nz"&&n.hostname!=="mega.co.nz")throw Error("Invalid URL: wrong hostname");if(!n.hash)throw Error("Invalid URL: no hash");if(n.pathname.match(/\/(file|folder)\//)!==null){let i=n.hash.substr(1).split("/file/"),o=n.pathname.substring(n.pathname.lastIndexOf("/")+1,n.pathname.length+1),a=i[0];if(o&&!a||!o&&a)throw Error("Invalid URL: too few arguments");return new ce({downloadId:o,key:a,directory:n.pathname.indexOf("/folder/")>=0,loadedFile:i[1],...r})}else{let i=n.hash.split("!");if(i[0]!=="#"&&i[0]!=="#F")throw Error("Invalid URL: format not recognized");if(i.length<=1)throw Error("Invalid URL: too few arguments");if(i.length>=(i[0]==="#"?4:5))throw Error("Invalid URL: too many arguments");return new ce({downloadId:i[1],key:i[2],directory:i[0]==="#F",loadedFile:i[3],...r})}}static unpackAttributes(e){let r=0;for(;r<e.length&&e.readUInt8(r);)r++;if(e=e.slice(0,r).toString(),e.substr(0,6)==='MEGA{"')try{return JSON.parse(e.substr(4))}catch{}}static defaultHandleRetries(e,r,n){e>8?n(r):setTimeout(n,1e3*Math.pow(2,e))}},wi=["","red","orange","yellow","green","blue","purple","grey"],ge=ce});function Wr(t,e,r){let n=t.shareKeys;Array.isArray(e)||(e=df(e)),r||(r=e.map(o=>Nt(n,o)).reduce((o,a)=>o.concat(a)).filter((o,a,s)=>a===s.indexOf(o)));let i=[r,e.map(o=>o.nodeId),[]];for(let o=r.length;o--;){let a=new D(n[r[o]]);for(let s=e.length;s--;){let f=p.Buffer.from(e[s].key);f&&(f.length===32||f.length===16)&&i[2].push(o,s,C(a.encryptECB(f)))}}return i}function df(t){return[t].concat((t.children||[]).map(df).reduce((e,r)=>e.concat(r),[]))}function Nt(t,e){let r=e.nodeId,n=e.parent,i=[];return t[r]&&i.push(r),n?i.concat(Nt(t,n)):i}var $r,Ei,hf,Ie,pf,yf=J(()=>{c();bi();$r=X(Nn(),1),Ei=X(Ue(),1);Rt();tt();hf={},Ie=class extends ge{constructor(e,r){if(super(e),this.storage=r,this.api=r.api,this.nodeId=e.h,this.timestamp=e.ts,this.type=e.t,this.directory=!!this.type,e.k){let n=e.k.split("/"),i=r.aes;for(let o of n){let a=o.split(":")[0];if(a===r.user){e.k=o;break}let s=r.shareKeys[a];if(s){e.k=o,i=hf[a],i||(i=hf[a]=new D(s));break}}this.loadMetadata(i,e)}}loadAttributes(){throw Error("This is not needed for files loaded from logged in sessions")}mkdir(e,r){if(!this.directory)throw Error("node isn't a directory");let[n,i]=k(r);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("file name is required");if(e.target||(e.target=this),e.key||(e.key=p.Buffer.from((0,$r.default)(16))),e.key.length!==16)throw Error("wrong key length, must be 128bit");let o=e.key,a=Ie.packAttributes(e.attributes);le(o).encryptCBC(a);let s=p.Buffer.from(o);this.storage.aes.encryptECB(s);let f={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[{h:"xxxxxxxx",t:1,a:C(a),k:C(s)}]},u=Nt(this.storage.shareKeys,this);return u.length>0&&(f.cr=Wr(this.storage,[{nodeId:"xxxxxxxx",key:o}],u)),this.api.request(f,(l,h)=>{if(l)return n(l);let m=this.storage._importFile(h.f[0]);this.storage.emit("add",m),n(null,m)}),i}upload(e,r,n){if(!this.directory)throw Error("node is not a directory");arguments.length===2&&typeof r=="function"&&([n,r]=[r,null]);let[i,o]=k(n);if(typeof e=="string"&&(e={name:e}),e.attributes||(e.attributes={}),e.name&&(e.attributes.n=e.name),!e.attributes.n)throw Error("File name is required.");if(!(typeof e.size=="number"&&e.size>=0)&&!(r&&typeof r.pipe!="function"&&typeof r.length=="number")&&!e.allowUploadBuffering)throw Error("Specify a file size or set allowUploadBuffering to true");e.target||(e.target=this);let a,s=G(e.key);s||(s=(0,$r.default)(24)),s instanceof p.Buffer||(s=p.Buffer.from(s));let f=e.uploadCiphertext?32:24;if(s.length!==f)throw Error("Wrong key length. Key must be 192bit");e.uploadCiphertext&&(a=s,s=Wn(s).slice(0,24)),e.key=s;let u=[],l=(g,E,v,S)=>{if(g)return m(g);if(!v||v.length===0){m(Error("Server returned a invalid response while uploading"));return}let R=Number(v.toString());if(R<0){m(Error("Server returned error "+R+" while uploading"));return}if(u[E]=v,E===0&&!a&&(a=S.key),e.thumbnailImage&&!u[1]||e.previewImage&&!u[2]||!u[0])return;let F=Ie.packAttributes(e.attributes);le(a).encryptCBC(F);let j=p.Buffer.from(a);this.storage.aes.encryptECB(j);let q={h:C(u[0]),t:0,a:C(F),k:C(j)};u.length!==1&&(q.fa=u.slice(1).map((W,oe)=>oe+"*"+C(W)).filter(W=>W).join("/"));let N={a:"p",t:e.target.nodeId?e.target.nodeId:e.target,n:[q]},M=Nt(this.storage.shareKeys,this);M.length>0&&(N.cr=Wr(this.storage,[{nodeId:q.h,key:a}],M)),this.api.request(N,(W,oe)=>{if(W)return m(W);let z=this.storage._importFile(oe.f[0]);this.storage.emit("add",z),h.emit("complete",z),i&&i(null,z)})};e.thumbnailImage&&this._uploadAttribute(e,e.thumbnailImage,1,l),e.previewImage&&this._uploadAttribute(e,e.previewImage,2,l);let h=this._upload(e,r,0,l);function m(g){h.listenerCount("error")?h.emit("error",g):i(g)}return h.complete=o,h}_upload(e,r,n,i){let o=e.uploadCiphertext?new Ei.PassThrough:gr(e.key),a=o,s=e.size;return r&&typeof r.pipe!="function"&&(s=r.length,a.end(r)),s!=null?(s===0&&o.end(),this._uploadWithSize(a,s,o,n,e,i)):a=va(a,f=>{this._uploadWithSize(a,f,o,n,e,i)}),r&&typeof r.pipe=="function"&&r.pipe(a),a}_uploadAttribute(e,r,n,i){let o=(a,s)=>{if(a)return i(a);let f=s.length,u=Math.ceil(f/16)*16-f;u!==0&&(s=p.Buffer.concat([s,p.Buffer.alloc(u)])),(e.handle?le(e.key):new D(e.key.slice(0,16))).encryptCBC(s);let h=new Ei.PassThrough;h.end(s),this._uploadWithSize(h,s.length,h,n,e,i)};if(r instanceof p.Buffer){o(null,r);return}cr(r,o)}_uploadWithSize(e,r,n,i,o,a){let s=o.forceHttps??!0?2:0,f=i===0?{a:"u",ssl:s,s:r,ms:0,r:0,e:0,v:2}:{a:"ufa",ssl:s,s:r};o.handle&&(f.h=o.handle);let u=i===0?o.initialChunkSize||128*1024:r,l=o.chunkSizeIncrement||128*1024,h=o.maxChunkSize||1024*1024,m=o.maxConnections||4,g=o.handleRetries||ge.defaultHandleRetries,E=u,v=0,S=!1,R=0,F,j,q,N,M,W=()=>{N=Math.min(E,r-R),j=p.Buffer.alloc(N),v++,E<h&&(E+=l),M=0,F&&(F.copy(j),M=Math.min(F.length,N),F=F.length>N?F.slice(N):null),M===N?oe():(S=!0,pt())},oe=()=>{let K=R,O=j,$=0,V=()=>{$++,this.api.fetch(q+"/"+(i===0?K:i-1),{method:"POST",body:O,headers:{"content-length":O.length}}).then(Y=>{if(Y.status!==200)throw Error("MEGA returned a "+Y.status+" status code");return Y.arrayBuffer()}).then(Y=>{let ne=p.Buffer.from(Y);ne.length>0?(n.end(),y.nextTick(()=>{a(null,i,ne,n)})):R<r&&!S&&W()},Y=>{g($,Y,ne=>{ne?e.emit("error",ne):V()})})};V(),j=null,R+=N,R<r&&!S&&v<m&&W()},z=0,pt=()=>{for(;;){let K=n.read();if(K===null){n.once("readable",pt);break}if(z+=K.length,e.emit("progress",{bytesLoaded:z,bytesTotal:r}),K.copy(j,M),M+=K.length,M>=N){S=!1,F=K.slice(K.length-(M-N)),oe();break}}};n.on("end",()=>{r&&z!==r&&e.emit("error",Error("Specified data size does not match: "+r+" !== "+z))}),this.api.request(f,(K,O)=>{if(K)return a(K);q=O.p,W()})}uploadAttribute(e,r,n){let[i,o]=k(n);if(typeof e=="string"&&(e=["thumbnail","preview"].indexOf(e)),e!==0&&e!==1)throw Error("Invalid attribute type");return this._uploadAttribute({key:this.key,handle:this.nodeId},r,e+1,(a,s,f,u)=>{if(a)return i(a);let l={a:"pfa",n:this.nodeId,fa:e+"*"+C(f)};this.api.request(l,(h,m)=>{if(h)return i(h);i(null,this)})}),o}delete(e,r){return typeof e=="function"&&(r=e,e=void 0),typeof e>"u"&&(e=this.parent===this.storage.trash),e?this.api.request({a:"d",n:this.nodeId},r):this.moveTo(this.storage.trash,r)}moveTo(e,r){if(typeof e=="string"&&(e=this.storage.files[e]),!(e instanceof ge))throw Error("target must be a folder or a nodeId");let n={a:"m",n:this.nodeId,t:e.nodeId},i=Nt(this.storage.shareKeys,e);return i.length>0&&(n.cr=Wr(this.storage,[this],i)),this.api.request(n,r)}setAttributes(e,r){let[n,i]=k(r);Object.assign(this.attributes,e);let o=Ie.packAttributes(this.attributes);return le(this.key).encryptCBC(o),this.api.request({a:"a",n:this.nodeId,at:C(o)},a=>{this.parseAttributes(this.attributes),n(a)}),i}rename(e,r){return this.setAttributes({n:e},r)}setLabel(e,r){if(typeof e=="string"&&(e=wi.indexOf(e)),typeof e!="number"||Math.floor(e)!==e||e<0||e>7)throw Error("label must be a integer between 0 and 7 or a valid label name");return this.setAttributes({lbl:e},r)}setFavorite(e,r){return this.setAttributes({fav:e?1:0},r)}link(e,r){arguments.length===1&&typeof e=="function"&&(r=e,e={noKey:!1}),typeof e=="boolean"&&(e={noKey:e}),e||(e={});let n=e.__folderKey;if(this.directory&&!n)return this.shareFolder(e,r);let[i,o]=k(r);return this.api.request({a:"l",n:this.nodeId},(a,s)=>{if(a)return i(a);let f=`https://mega.nz/${n?"folder":"file"}/${s}`;!e.noKey&&this.key&&(f+=`#${C(n||this.key)}`),i(null,f)}),o}shareFolder(e,r){if(!this.directory)throw Error("node isn't a folder");let n=this.nodeId,i=this.storage.shareKeys[n];if(i)return this.link(Object.assign({__folderKey:i},e),r);let o=G(e.key);o||(o=(0,$r.default)(16)),o instanceof p.Buffer||(o=p.Buffer.from(o));let[a,s]=k(r);if(o.length!==16)return a(Error("share key must be 16 byte / 22 characters")),s;this.storage.shareKeys[n]=o;let f=p.Buffer.from(n+n);this.storage.aes.encryptECB(f);let u={a:"s2",n,s:[{u:"EXP",r:0}],ok:C(this.storage.aes.encryptECB(p.Buffer.from(o))),ha:C(f),cr:Wr(this.storage,this)};return this.api.request(u,l=>{if(l)return a(l);this.link(Object.assign({__folderKey:o},e),a)}),s}unshare(e){return this.directory?this.unshareFolder(e):this.api.request({a:"l",n:this.nodeId,d:1},e)}unshareFolder(e){if(!this.directory)throw Error("node isn't a folder");return delete this.storage.shareKeys[this.nodeId],this.api.request({a:"s2",n:this.nodeId,s:[{u:"EXP",r:""}]},e)}importFile(e,r){let[n,i]=k(r);if(!this.directory)throw Error("importFile can only be called on directories");if(typeof e=="string"&&(e=ge.fromURL(e)),!(e instanceof ge))throw Error("First argument of importFile should be a File or a URL string");if(!e.key)return n(Error("Can't import files without encryption keys")),i;let o=(a,s)=>{if(a)return n(a);let f=Ie.packAttributes(s.attributes);le(s.key).encryptCBC(f);let u=Array.isArray(s.downloadId)?s.downloadId[1]:s.downloadId,l={a:"p",t:this.nodeId,n:[{ph:u,t:0,a:C(f),k:C(this.storage.aes.encryptECB(s.key))}]};this.api.request(l,(h,m)=>{if(h)return n(h);let g=this.storage._importFile(m.f[0]);this.storage.emit("add",g),n(null,g)})};return e.attributes?o(null,e):e.loadAttributes(o),i}static packAttributes(e){let r=JSON.stringify(e);r=p.Buffer.from(`MEGA${r}`);let n=p.Buffer.alloc(Math.ceil(r.length/16)*16);return r.copy(n),n}};pf=Ie});var gf,Dt,Od,Pd,Cd,vi,mf=J(()=>{c();Rt();La();br();gf=X(Je(),1);yf();tt();Dt=class extends gf.EventEmitter{constructor(e,r){if(super(),arguments.length===1&&typeof e=="function"&&(r=e,e={}),!e.email)throw Error("starting a session without credentials isn't supported");r||(r=o=>{if(o)throw o});let[n,i]=k(r);this.ready=i,e.keepalive=e.keepalive===void 0?!0:!!e.keepalive,e.autoload=e.autoload===void 0?!0:!!e.autoload,e.autologin=e.autologin===void 0?!0:!!e.autologin,this.api=new je(e.keepalive,e),this.files={},this.options=e,e.autologin?this.login(n):n(null,this),this.status="closed"}login(e){let[r,n]=k(e),i=()=>{this.status="ready",r(null,this),this.emit("ready",this)},o=u=>{this.api.request({a:"ug"},(l,h)=>{if(l)return u(l);this.name=h.name,this.user=h.u,this.options.autoload?this.reload(!0,m=>{if(m)return u(m);i()}):i()})};this.email=this.options.email.toLowerCase();let a=u=>{let l=Dn(p.Buffer.from(this.options.password));delete this.options.password;let h=new D(l),m=C(h.stringhash(p.Buffer.from(this.email))),g={a:"us",user:this.email,uh:m};f(g,h,u)},s=(u,l)=>{qn(p.Buffer.from(this.options.password),u,(h,m)=>{if(h)return l(h);delete this.options.password;let g=new D(m.slice(0,16)),E=C(m.slice(16)),v={a:"us",user:this.email,uh:E};f(v,g,l)})},f=(u,l,h)=>{this.api.request(u,(m,g)=>{if(m)return h(m);this.key=G(g.k),l.decryptECB(this.key),this.aes=new D(this.key);let E=G(g.csid),v=this.aes.decryptECB(G(g.privk)),S=Fa(v);if(!S)throw Error("invalid credentials");let R=C(ka(E,S).slice(0,43));this.api.sid=this.sid=R,this.RSAPrivateKey=S,o(h)})};return this.api.request({a:"us0",user:this.email},(u,l)=>{if(u)return r(u);if(l.v===1)return a(r);if(l.v===2)return s(l,r);r(Error("Account version not supported"))}),this.status="connecting",n}reload(e,r){typeof e=="function"&&([e,r]=[r,e]);let[n,i]=k(r);return this.status==="connecting"&&!e?(this.once("ready",()=>{this.reload(e,n)}),i):(this.mounts=[],this.api.request({a:"f",c:1},(o,a)=>{if(o)return n(o);this.shareKeys=a.ok.reduce((s,f)=>{let u=f.h,l=this.aes.encryptECB(p.Buffer.from(u+u));return Ba(G(f.ha),l)&&(s[u]=this.aes.decryptECB(G(f.k))),s},{}),a.f.forEach(s=>this._importFile(s)),n(null,this.mounts)}),this.api.on("sc",o=>{let a={};o.forEach(s=>{if(s.a==="u"){let f=this.files[s.n];f&&(f.timestamp=s.ts,f.decryptAttributes(s.at),f.emit("update"),this.emit("update",f))}else s.a==="d"?a[s.n]=!0:s.a==="t"&&s.t.f.forEach(f=>{let u=this.files[f.h];if(u){delete a[f.h];let l=u.parent;if(l.nodeId===f.p)return;l.children.splice(l.children.indexOf(u),1),u.parent=this.files[f.p],u.parent.children||(u.parent.children=[]),u.parent.children.push(u),u.emit("move",l),this.emit("move",u,l)}else this.emit("add",this._importFile(f))})}),Object.keys(a).forEach(s=>{let f=this.files[s],u=f.parent;u.children.splice(u.children.indexOf(f),1),this.emit("delete",f),f.emit("delete")})}),i)}_importFile(e){if(!this.files[e.h]){let r=this.files[e.h]=new pf(e,this);if(e.t===Od&&(this.root=r,r.name="Cloud Drive"),e.t===Cd&&(this.trash=r,r.name="Rubbish Bin"),e.t===Pd&&(this.inbox=r,r.name="Inbox"),e.t>1&&this.mounts.push(r),e.p){let n=this.files[e.p];n&&(n.children||(n.children=[]),n.children.push(r),r.parent=n)}}return this.files[e.h]}mkdir(e,r){if(this.status!=="ready")throw Error("storage is not ready");return this.root.mkdir(e,r)}upload(e,r,n){if(this.status!=="ready")throw Error("storage is not ready");return this.root.upload(e,r,n)}close(e){return this.status="closed",this.api.close(),this.api.request({a:"sml"},e)}getAccountInfo(e){let[r,n]=k(e);return this.api.request({a:"uq",strg:1,xfer:1,pro:1},(i,o)=>{i&&r(i);let a={};a.type=o.utype,a.spaceUsed=o.cstrg,a.spaceTotal=o.mstrg,a.downloadBandwidthTotal=o.mxfer||Math.pow(1024,5)*10,a.downloadBandwidthUsed=o.caxfer||0,a.sharedBandwidthUsed=o.csxfer||0,a.sharedBandwidthLimit=o.srvratio,r(null,a)}),n}toJSON(){return{key:C(this.key),sid:this.sid,name:this.name,user:this.user,options:this.options}}static fromJSON(e){let r=new Dt(Object.assign(e.options,{autoload:!1,autologin:!1}));return r.key=xt(e.key),r.aes=new D(r.key),r.api.sid=r.sid=e.sid,r.name=e.name,r.user=e.user,r}},Od=2,Pd=3,Cd=4,vi=Dt});var Fd=b((Ay,wf)=>{c();Rt();mf();bi();br();function Be(t,e){return new vi(t,e)}Be.Storage=vi;Be.File=ge;Be.API=je;Be.file=ge.fromURL;Be.encrypt=gr;Be.decrypt=mr;Be.verify=Ia;wf.exports=Be});return Fd();})();
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
